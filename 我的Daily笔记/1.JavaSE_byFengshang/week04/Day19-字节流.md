## å¼‚å¸¸çš„å¤„ç†

### `throw`å…³é”®å­—

> `throws`åŽé¢è·Ÿå¤šä¸ªï¼Œä½†æ˜¯`throw`ä¸è¡Œ

#### **è¯­æ³•**

```Java
throw å¼‚å¸¸å¯¹è±¡
```

#### **è§£é‡Š**

1. è¯¥è¯­æ³•å¿…é¡»åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ä½¿ç”¨ï¼Œä¸èƒ½ç›´æŽ¥å†™åœ¨ç±»ä½“ä¸­

2. *ä¸€å®šçš„ï¼Œç¡®å®šçš„æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡*ðŸŸ¡ 

3. è¯­æ³•ä¸­çš„å¼‚å¸¸å¯¹è±¡ï¼Œä¸€èˆ¬ä½¿ç”¨"`new`"å…³é”®å­—åˆ›å»ºç›¸åº”çš„å¼‚å¸¸å¯¹è±¡ã€‚å¼‚å¸¸ç±»çš„æž„é€ æ–¹æ³•æ™®ééƒ½å¯ä»¥ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå¯¹å¼‚å¸¸äº§ç”Ÿçš„è¯´æ˜Žã€‚å¼‚å¸¸ç±»åž‹æ™®éè¿˜æœ‰ä¸€ä¸ªæ— å‚æž„é€ å™¨ã€‚

#### **æ³¨æ„äº‹é¡¹**

1. ï¼ˆé‡ç‚¹â­æœ€é‡è¦ï¼‰

   åœ¨æ–¹æ³•ä½“ä¸­ç”¨`throw`å…³é”®å­—æ˜Žç¡®æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œé‚£ä¹ˆä»£ç æ‰§è¡Œåˆ°è¯¥è¡Œå°±ä¸ä¼šç»§ç»­æ‰§è¡Œäº†ï¼Œæ‰€ä»¥è¯¥è¡Œ`throw`è¯­å¥ç›¸å½“äºŽæ–¹æ³•ä½“å½“ä¸­çš„`return`ï¼Œå¯ä»¥æ›¿ä»£`return`çš„ä½œç”¨ï¼ŒåŽé¢å°±ä¸èƒ½å†å†™ä»£ç äº†ã€‚

2. `throw`åŽé¢å¯ä»¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œæ­¤æ—¶ä¸è¦`try...catch`å®ƒï¼Œè€Œæ˜¯è®©å®ƒå‘ä¸Šå±‚æŠ›å‡ºï¼ŒæŠ›ç»™æ–¹æ³•è°ƒç”¨è€…
   1. å¯ä»¥æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¸éœ€è¦æ–¹æ³•ä½¿ç”¨`throws`å…³é”®å­—ï¼Œè¿è¡Œæ—¶å¼‚å¸¸ä¼šè‡ªå·±å‘ä¸ŠæŠ›å‡ºï¼Œæ–¹æ³•è°ƒç”¨è€…å¯ä»¥ä¸æ˜¾ç¤ºå¤„ç†è¿è¡Œæ—¶å¼‚å¸¸
   2. å¯ä»¥æŠ›å‡ºç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œæ­¤æ—¶éœ€è¦æ–¹æ³•é…åˆä½¿ç”¨`throws`å…³é”®å­—æ˜Žç¡®å‘ä¸Šå±‚æŠ›å‡ºç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œæ–¹æ³•è°ƒç”¨è€…éœ€è¦æ˜¾ç¤ºå¤„ç†ç¼–è¯‘æ—¶å¼‚å¸¸ã€‚

### `throw`å…³é”®å­—åœ¨æ–¹æ³•ä¸­çš„ç»å…¸ä½¿ç”¨ï¼ˆéžå¸¸å¸¸ç”¨ï¼Œé‡ç‚¹â­â­ï¼‰

æŠ›å¼‚å¸¸ä»£æ›¿`return`æ˜¯å¸¸è§çš„æ‰‹æ®µã€‚

### å¼‚å¸¸çš„å¤„ç†ä½“ç³»

#### `finally`

æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œä½¿ç”¨å’Œ`try..catch`ç»“æž„å¯†ä¸å¯åˆ†ã€‚

*`finally`ä»£ç å—ä¸è®º`try..catch`å¦‚ä½•æ‰§è¡Œï¼Œæœ€ç»ˆä¸€å®šä¼šæ‰§è¡Œã€‚*åªæœ‰é€€å‡ºè™šæ‹Ÿæœºæ‰å¯ä»¥ä¸æ‰§è¡Œã€‚

#### **è¯­æ³•**

```Java
try{
} catch(){
} finally{
}

// ä¸­é—´çš„catchä»£ç å—å¯çµæ´»å¢žå‡ã€‚
try{
}catch(){
}catch(){
}finally{
}

```

#### `finally`ä»£ç å—çš„ç”¨é€”

ç‰¹ç‚¹ï¼šæ­£å¸¸æ¥è¯´ä¸€å®šä¼šæ‰§è¡Œã€‚

ç”¨é€”ï¼šå¦‚æžœä¸€è¡Œæˆ–ä¸€æ®µä»£ç æ— è®º`try...catch`å¦‚ä½•æ‰§è¡Œï¼Œå®ƒéƒ½è¦æ‰§è¡Œï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨`finally`ä»£ç å—ã€‚

> æ¯”å¦‚å¯¹è±¡å ç”¨é¢å¤–ç³»ç»Ÿèµ„æºçš„é‡Šæ”¾ã€‚è°ƒç”¨`.close()`
>
> æ¯”å¦‚åœ¨åš*Java IOæ“ä½œ*ã€*ç½‘ç»œæ“ä½œ*ä»¥åŠ*æ•°æ®åº“æ“ä½œ*ç­‰ï¼Œéœ€è¦å ç”¨ç³»ç»Ÿé¢å¤–èµ„æºçš„æ“ä½œæ—¶ï¼Œä¸€æ—¦å‘ç”Ÿå¼‚å¸¸ç¨‹åºç»ˆæ­¢ï¼Œå°±ä¼šå¯¼è‡´å¯¹è±¡æ‰€å ç”¨é¢å¤–èµ„æºæ— æ³•æ­£å¸¸é‡Šæ”¾ï¼Œè¿™å¾ˆæ˜Žæ˜¾æ˜¯ä¸åˆç†çš„ã€‚è¿™æ—¶å°±éœ€è¦è¯·å‡º`finally`ä»£ç å—æ¥å®žçŽ°å®‰å…¨çš„é‡Šæ”¾èµ„æºäº†ã€‚

#### å°ç»†èŠ‚

`try...catch...finally`ç»“æž„çš„å˜å½¢ï¼š`try...finally`

å‡å¦‚æœ‰ä¸€æ®µä»£ç å¿…é¡»æ‰§è¡Œï¼Œéœ€è¦ç”¨åˆ°`finally`ä»£ç å—ï¼Œä½†æ˜¯åˆä¸å¸Œæœ›`catch`å¤„ç†å¼‚å¸¸ï¼Œè€Œæ˜¯å¸Œæœ›æŠ›å‡ºå¼‚å¸¸ã€‚é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨`try...finally`

> é—®é¢˜ï¼šå…³é”®å­—`final`ï¼Œ`finally`å’Œ`finalize`åˆ†åˆ«çš„ä½œç”¨ï¼Ÿ
>
> 1. `final`å…³é”®å­—å¯ä»¥ä¿®é¥°ç±»ã€å˜é‡ã€æˆå‘˜æ–¹æ³•ã€‚
>   1. ä¿®é¥°ç±»ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿
>    2. ä¿®é¥°å˜é‡ï¼Œè¡¨ç¤ºå®ƒæˆä¸ºä¸€ä¸ªå¸¸é‡
>   3. ä¿®é¥°æˆå‘˜æ–¹æ³•ï¼Œè¡¨ç¤ºæ— æ³•è¢«é‡å†™çš„æ–¹æ³•
> 2. `finally`ä»£ç å—ï¼Œå’Œ`try...catch`ä¸€èµ·ä½¿ç”¨ï¼Œå…·æœ‰å¿…ç„¶æ‰§è¡Œçš„ç‰¹ç‚¹ï¼Œåœ¨å¼‚å¸¸å¤„ç†ä½“ç³»å½“ä¸­ï¼Œä¸€èˆ¬ç”¨äºŽèµ„æºé‡Šæ”¾ã€‚
> 3. `finalize`æ–¹æ³•ï¼Œ`Object()`ç±»ä¸­çš„æˆå‘˜æ–¹æ³•ï¼Œç”¨äºŽåšå¯¹è±¡é”€æ¯çš„å–„åŽå·¥ä½œï¼Œé‡Šæ”¾é¢å¤–çš„ç³»ç»Ÿèµ„æºã€‚**ç”±äºŽGCåžƒåœ¾å›žæ”¶æœºåˆ¶çš„è‡ªåŠ¨å›žæ”¶ä¸ç¡®å®šæ€§**ï¼Œè¯¥æ–¹æ³•å®žé™…ä¸Šæ˜¯æ— æ•ˆçš„ã€‚



### è‡ªå®šä¹‰å¼‚å¸¸ï¼ˆäº†è§£ï¼‰

1. ä¸ºä»€ä¹ˆä¸€å®šè¦è‡ªå®šä¹‰å¼‚å¸¸ï¼Œç”¨æºç ä¸­çš„å¼‚å¸¸ä¸å¥½å—ï¼Ÿ

   - æ›´å¥½å®šä½ã€‚å› ä¸ºè‡ªå®šä¹‰å¼‚å¸¸æ‰€ä»¥æ›´æ¸…æ¥šåœ¨å“ªé‡Œäº§ç”Ÿå¼‚å¸¸ï¼Œè€Œä¸æ˜¯JDKæºç ä¸­ã€‚

   - è€Œä¸”å¯ä»¥é’ˆå¯¹æ€§åœ°åšå‡ºä¸“å±žå¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯æºç ä¸­åœ°å¼‚å¸¸æ‰€è¾¾ä¸åˆ°çš„


2. å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸ï¼Ÿ
   1. è‡ªå®šä¹‰è¿è¡Œæ—¶å¼‚å¸¸ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œè®©å®ƒç›´æŽ¥ç»§æ‰¿`RuntimeException`
   2. è‡ªå®šä¹‰ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œè®©å®ƒç›´æŽ¥ç»§æ‰¿`Exception`
   3. è¦å£°æ˜Žä¸¤ä¸ªæž„é€ å™¨ï¼š

â€‹			a.`()`æ— å‚æž„é€ 

â€‹			b.`(String)`å•å‚æž„é€ 

```Java
public class Demo {
    public static void main(String[] args) {
        test();
        try {
            test2();
        } catch (MyCheckedException e) {
            e.printStackTrace();
        }
    }

    public static void test() {
        throw new MyRuntimeException("æˆ‘è‡ªå·±å®šä¹‰çš„è¿è¡Œæ—¶å¼‚å¸¸,å®ƒè¢«æŠ›å‡ºäº†!");
    }

    public static void test2() throws MyCheckedException {
        throw new MyCheckedException("æˆ‘è‡ªå·±å®šä¹‰çš„ç¼–è¯‘æ—¶å¼‚å¸¸,å®ƒè¢«æŠ›å‡ºäº†!");
    }
}

class MyRuntimeException extends RuntimeException {
    public MyRuntimeException() {
    }

    public MyRuntimeException(String message) {
        super(message);
    }
}

class MyCheckedException extends Exception {
    public MyCheckedException() {
    }

    public MyCheckedException(String message) {
        super(message);
    }
}
```

-----



## `File`ç±»

`java.io.Flie`

IOè¿‡ç¨‹å—é™äºŽå¤–å­˜ï¼Œç‰¹ç‚¹æ˜¯å’ŒCPUç›¸æ¯”é€Ÿåº¦è¾ƒæ…¢ã€‚

(é‡ç‚¹)`File`ç±»æ˜¯æ–‡ä»¶å’Œç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰è·¯å¾„åçš„æŠ½è±¡è¡¨è¾¾å½¢å¼ã€‚â€œè¿™ä¸ªè·¯å¾„åˆ°åº•åˆä¸åˆæ³•â€ï¼Œâ€œè¿™ä¸ªè·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨ç›¸åº”æ–‡ä»¶â€ç­‰é—®é¢˜`File`ç±»ä¸å…³å¿ƒã€‚**`File`ç±»å¯¹è±¡å°±æ˜¯å­˜å‚¨äº†ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²çš„å¯¹è±¡ã€‚**

åœ¨åˆ›å»ºFileç±»å¯¹è±¡æ—¶ï¼Œä¸ç®¡å¦‚ä½•åˆ›å»ºï¼Œéƒ½ä¸ä¼šäº§ç”Ÿä»»ä½•å¼‚å¸¸ï¼Œä»»ä½•é—®é¢˜ï¼Œåªæœ‰åœ¨ç”¨è¿™ä¸ªFileå¯¹è±¡æ“ä½œæ–‡ä»¶æ—¶ï¼Œæ‰å¯èƒ½å‡ºçŽ°é—®é¢˜ã€‚

ï¼ˆé‡ç‚¹ï¼Œé‡ä¸­ä¹‹é‡ï¼Œå†™æ¡†æž¶æ—¶å¸¸ç”¨æ­¤æ¦‚å¿µï¼‰(**æœåŠ¡å™¨æ–‡ä»¶ç­‰é…ç½®æ–‡ä»¶çš„è·¯å¾„åè¯¥æ€Žä¹ˆå†™**ï¼Ÿ)

â­è·¯å¾„åçš„æ¦‚å¿µï¼š**ç”¨äºŽè¡¨ç¤ºæ–‡ä»¶ä½ç½®çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚**

æ–‡ä»¶çš„è·¯å¾„åçš„ä½œç”¨å°±ç›¸å½“äºŽâ€œå…¨é™å®šç±»åâ€ã€‚

>è·¯å¾„åˆ†éš”ç¬¦
>
>Windowsï¼šåœ¨javaä¸­ä¸€ä¸ªåæ–œæ è¦ç”¨è½¬ä¹‰å­—ç¬¦è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯å†™æˆä¸¤ä¸ª`"\\"`
>
>ç±»Unixæ“ä½œç³»ç»Ÿï¼š`"/"`
>
>å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨æ­£æ–œæ `"/"`ï¼Œå› ä¸ºWindowså¯ä»¥è¯†åˆ«

ä¸ºäº†ç®€æ´åŒ–ä¹¦å†™ï¼Œå°†ç»å¯¹è·¯å¾„æ”¹æˆç›¸å¯¹è·¯å¾„ã€‚

åœ¨å®žé™…å¼€å‘ä¸­ï¼Œå¦‚æžœç¡®å®šæ–‡ä»¶çš„è·¯å¾„ï¼Œä¸”æ–‡ä»¶è·¯å¾„ä¸ä¼šè½»æ˜“æ”¹å˜ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆåœºæ™¯å¾ˆå°‘ï¼Œå› ä¸ºåœ¨æœåŠ¡å™¨ç«¯ï¼Œç»å¯¹è·¯å¾„çš„æƒé™ä¸å¼€æ”¾ç»™æ™®é€šå‘˜å·¥ï¼‰

åœ¨IDEAä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„å†™åï¼Œæœ€éœ€è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šç›¸å¯¹è·¯å¾„æ˜¯ç›¸å¯¹äºŽè°ï¼Ÿ

```java
System.getProperty("user.dir")
```

1. é»˜è®¤æƒ…å†µä¸‹ï¼Œç›¸å¯¹äºŽå½“å‰projectçš„æ ¹ç›®å½•ï¼Œä¸€èˆ¬è€Œè¨€ä¸è¦æ”¹åŠ¨ï¼ˆæ›´æ”¹çš„æ–¹å¼ï¼šTempates->appliction->working directoryï¼‰

2. æ³¨æ„Junitçš„ç›¸å¯¹è·¯å¾„æ˜¯ç›¸å¯¹äºŽå½“å‰moduleæ ¹ç›®å½•ï¼Œè€Œä¸æ˜¯project

ç›¸å¯¹è·¯å¾„æ›´çµæ´»çš„ä½¿ç”¨ï¼šåœ¨è·¯å¾„åä¸­ï¼Œç”¨`".."`è¡¨ç¤ºä¸Šçº§ç›®å½•

### `File`ç±»çš„æž„é€ å™¨

```java
// åˆ›å»ºä¸€ä¸ªFileå¯¹è±¡ï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯è·¯å¾„åï¼Œå¯ä»¥ç”¨ç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„
File (String pathname)


// å’Œç¬¬ä¸€ç§æ–¹å¼ç±»ä¼¼ï¼Œåªä¸è¿‡æŠŠä¸€ä¸ªè·¯å¾„ååŠˆæˆäº†ä¸¤åŠ
File (String parent, Sting child)

// å’Œç¬¬äºŒç§æ–¹å¼ä¸€æ ·ï¼Œåªä¸è¿‡ï¼Œå…¶ä¸­ä¸€ä¸ªè·¯å¾„ç”¨Fileå¯¹è±¡è¿›è¡Œè¡¨ç¤º
File (File parent, String child)
```

æœ¬è´¨ä¸Šå°±ä¸€ä¸ªæž„é€ å™¨

```java
Fileï¼ˆString pathï¼‰;
```

æˆå‘˜æ–¹æ³•`exists()`è¿”å›ž`true`è¡¨ç¤ºæ–‡ä»¶å­˜åœ¨ï¼Œå¦‚æžœæ–‡ä»¶ä¸å­˜åœ¨æˆ–è€…è·¯å¾„åä¸åˆæ³•å°±ä¼šè¿”å›ž`false`

### `File`ç±»çš„æ–¹æ³•è°ƒç”¨

çœ‹æ–‡æ¡£

ç»†èŠ‚ï¼šæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ä¸èƒ½é€šè¿‡åŽç¼€åæœ‰æ— åˆ¤æ–­

`File`ç±»APIçš„ç»ƒä¹ 

```java
//ä¸¤ä¸ªå¸¸é‡
File.seperator
//ä¸‰ä¸ªåˆ›å»ºåŠŸèƒ½
    //åªè´Ÿè´£åˆ›å»ºæ–‡ä»¶ï¼Œè·¯å¾„åå¦‚æžœä¸å­˜åœ¨ï¼Œä¼šæŠ¥é”™è€Œä¸æ˜¯å¸®ä½ åˆ›å»º
public boolean creatNewFile()
    //å¼€å‘ä¸­ï¼Œæ™®éå…ˆåˆ¤æ–­å†ä½¿ç”¨
    if(!f.exists()){
        f.createNewFile();
    }
	//åªåˆ›å»ºç›®å½•
public boolean mkdirs()
    if(!f.exists()){
        f.mkdirs();
    }
//åˆ é™¤æ–‡ä»¶
public boolean delete()
	//åˆ é™¤å¤±è´¥ä¸ä¼šæŠ¥é”™ï¼Œåªä¼šè¿”å›žfalse
	//å¦‚æžœåˆ é™¤çš„æ˜¯ä¸€ä¸ªç©ºç›®å½•æ‰ä¼šåˆ é™¤æˆåŠŸ;å¦‚æžœæƒ³è¦	åˆ é™¤ä¸€ä¸ªéžç©ºç›®å½•ï¼Œéœ€è¦è‡ªå·±å†™éåŽ†é€’å½’
//ç§»åŠ¨ä¸”é‡å‘½åæ–‡ä»¶
public boolean renameTo(File dest)
//åˆ¤æ–­åŠŸèƒ½
    //è¦ä¹ˆæ˜¯æ–‡ä»¶è¦ä¹ˆæ˜¯æ–‡ä»¶å¤¹
public boolean isFile()
//èŽ·å–åŠŸèƒ½
	//èŽ·å–è·¯å¾„
    //ä¸€å®šè¿”å›žç»å¯¹è·¯å¾„
    public String getAbsolutePath()
    //æ€Žæ ·åˆ›å»ºçš„è¿”å›žæ€Žæ ·çš„è·¯å¾„
    public String getPath()
    //èŽ·å–Fileå¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶æˆ–è€…ç›®å½•çš„åå­—
    public String getName()
	//èŽ·å–æ–‡ä»¶å¤§å°ï¼Œå•ä½æ˜¯å­—èŠ‚
    public long length()
	//èŽ·å–æ–‡ä»¶æœ€åŽä¿®æ”¹æ—¶é—´çš„ä¸€ä¸ªæ—¶é—´æˆ³
    public long lastModified()
```

### `File`ç±»çš„æˆå‘˜æ–¹æ³•

å¸¦æœ‰è¿‡æ»¤å™¨çš„`lisFiles(FileFilter filter)`

`FileFilter` å¯¹è±¡è¡¨ç¤ºè¿‡æ»¤å™¨`filter.accept()`;

> â­æ–¹æ³•å›žè°ƒï¼šé€šè¿‡æŽ¥å£çš„å¯¹è±¡ï¼ŒæŠŠè§„åˆ™ä¼ è¿›æ¥
>

## IOæµ

### IOçš„ç›¸å…³æ¦‚å¿µ

`File`ç±»æ— æ³•æ“ä½œæ–‡ä»¶å†…å®¹ã€‚

1. ä»€ä¹ˆæ˜¯I/O

   å†…å­˜å’Œå¤–å­˜éœ€è¦é¢‘ç¹äº¤äº’ï¼Œäº¤äº’çš„è¿‡ç¨‹å«åšIOã€‚ç«™åœ¨å†…å­˜çš„è§’åº¦ï¼ŒIè¡¨ç¤ºè¾“å…¥å³æ•°æ®ä»Žå¤–å­˜readè¿›å†…å­˜ã€‚Oè¡¨ç¤ºè¾“å‡ºå³æ•°æ®ä»Žå†…å­˜writeè¿›å¤–å­˜ã€‚

2. ä»€ä¹ˆæ˜¯IOæµ

   IOæµå¯ä»¥çœ‹æˆæ˜¯æ“ä½œç³»ç»Ÿçš„APIï¼Œæ“ä½œç³»ç»Ÿä»¥â€œIOæµâ€çš„å½¢å¼å¯¹å¤–å¼€æ”¾IOåŠŸèƒ½ã€‚IOæµä»Žæ–¹å‘ä¸Šè¿›è¡Œåˆ†ç±»ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ï¼šè¾“å‡ºæµå’Œè¾“å…¥æµã€‚åªè¦åˆ›å»ºäº†è¾“å…¥æµè¾“å‡ºæµå¯¹è±¡ï¼Œå°±æ„å‘³ç€è¾“å…¥è¾“å‡ºçš„é€šé“æ‰“é€šäº†ã€‚

3. **IOæµçš„åˆ†ç±»**ï¼ˆé‡ç‚¹ï¼‰

   æŒ‰ç…§æ•°æ®æµçš„æ–¹å‘ä¸åŒåˆ†ä¸¤å¤§ç±»ï¼š

   - è¾“å‡ºæµï¼Œå°†æ•°æ®ä»Žå†…å­˜å†™åˆ°(write)å¤–å­˜ä¸­ï¼Œæ˜¯ä¸€ä¸ªè¾“å‡ºçš„è¿‡ç¨‹ï¼Œéœ€è¦ä½¿ç”¨è¾“å‡ºæµ

   *      è¾“å…¥æµï¼Œå°†æ•°æ®ä»Žå¤–å±‚è¯»åˆ°(read)å†…å­˜ä¸­ï¼Œæ˜¯ä¸€ä¸ªè¾“å…¥çš„è¿‡ç¨‹ï¼Œéœ€è¦ä½¿ç”¨è¾“å…¥æµ

   æŒ‰ç…§å¤„ç†æ•°æ®é€»è¾‘å•ä½çš„ä¸åŒå°†IOæµåˆ†ä¸ºä¸¤å¤§ç±»ï¼š

   - å­—èŠ‚æµ
   - å­—ç¬¦æµ

æŒ‰ç…§ä¸¤ä¸ªç±»åˆ«ï¼ŒæŽ’åˆ—ç»„åˆå¾—åˆ°4ä¸ªJavaIOçš„å››ä¸ªåŸºç±»ï¼ˆæŠ½è±¡çˆ¶ç±»ï¼‰ï¼š

1. å­—èŠ‚è¾“å…¥ï¼š`java.io.InputSream`

2. å­—èŠ‚è¾“å‡ºï¼š`java.io.OutputStream`

3. å­—ç¬¦è¾“å…¥ï¼š`java.io.Reader`

4. å­—ç¬¦è¾“å‡ºï¼š`java.io.Writer`

å››ä¸ªæŠ½è±¡çˆ¶ç±»éƒ½åªæ˜¯æŠ½è±¡ç±»ï¼Œæ˜¯ä¸èƒ½ç›´æŽ¥ä½¿ç”¨å®ŒæˆIOåŠŸèƒ½ï¼Œéœ€è¦å…·ä½“çš„å®žçŽ°ç±»æ¥å®ŒæˆåŠŸèƒ½ã€‚

### å­—èŠ‚æµ

å›ºå®šä¸€æ¬¡æ“ä½œå¤„ç†8ä½ï¼Œ**è®¡ç®—æœºå­˜å‚¨çš„æœ€å°å•ä½æ˜¯bitï¼Œè®¡ç®—æœºå¯»å€è®¡ç®—çš„æœ€å°å•ä½æ˜¯byte**

> æ—¢ç„¶å­—èŠ‚æµæ˜¯ä¸‡èƒ½çš„ï¼Œä¸ºä»€ä¹ˆéœ€è¦å­—ç¬¦æµï¼Ÿ
>
> å­—ç¬¦æµJava IOå¤„ç†å­—ç¬¦æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯**æ–‡æœ¬æ–‡ä»¶**ï¼‰ï¼Œè¿™ç§ç‰¹æ®Šæƒ…å†µçš„è¡¥å……ï¼Œåœ¨å¤„ç†å­—ç¬¦æ•°æ®æ—¶ï¼Œå­—ç¬¦æµæ›´å¥½ç”¨ï¼Œæ›´ç®€å•ã€‚
>
> ä½†å­—èŠ‚æµè‚¯å®šä¹Ÿå¯ä»¥å¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œåªæ˜¯ä¸æ–¹ä¾¿ã€‚

#### å­—èŠ‚è¾“å‡ºæµ

```java
close()
write(byte[] b)
write(byte[] b,int off,int len)
write(int b)
```

å¸¸ç”¨çš„å®žçŽ°ç±»ï¼š`java.io.FileOutputStream`

å®ƒæ˜¯ä¸€ä¸ªå’Œæ–‡ä»¶æ“ä½œç›¸å…³çš„å­—èŠ‚è¾“å‡ºæµï¼Œå¯ä»¥å‘æ–‡ä»¶ä¸­å†™(write)æ•°æ®ã€‚

> ä½¿ç”¨APIçš„æ­¥éª¤
>
> 1. åˆ›å»ºå¯¹è±¡
>
> 2. è°ƒç”¨æ–¹æ³•
>
> 3. â­ç”¨å®ŒIOåŽè¦åŠæ—¶é‡Šæ”¾èµ„æº

```java
FileOutputStream(String fileName)
FileOutputStream(String fileName,boolean append)    
```

##### (â­**é‡ç‚¹åŒºåˆ«3ä¸ªæ–¹æ³•**â­â­)

1. `void write(int b)` 

æŠŠè¯¥æ–¹æ³•å½“æˆå†™byteæ•°æ®ç±»åž‹çš„ç¼–ç å€¼å­—ç¬¦å†™åˆ°æ–‡ä»¶ä¸­

ä½†æ˜¯è¿™ä¸ªæ–¹æ³•å¾ˆå°‘ç”¨ï¼Œå¦‚æžœè¦ç”¨ï¼Œä¹Ÿæ˜¯ç”¨æ¥å†™è‹±æ–‡å­—ç¬¦

2. `void write(byte[] b)` 

   > (â­)String API 
   >
   > `String`ç±»çš„æˆå‘˜æ–¹æ³•ï¼š`getBytes()` æ— å‚æ–¹æ³• ï¼Œè¯¥æ–¹æ³•å¯ä»¥èŽ·å–æ­¤å­—ç¬¦ä¸²çš„å­—èŠ‚æ•°æ®ï¼Œä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²çš„å­—èŠ‚ç¼–ç 

```java
out.write("Hello".getBytes());
```

3. `void write(byte[] b,int off,int len)` 

**æ³¨æ„äº‹é¡¹**

1. åˆ›å»º`FileOutputStream`å¯¹è±¡æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼ŸðŸ“£

    åˆ›å»ºè¯¥å¯¹è±¡ä¹‹å‰ï¼ŒJVMä¼šå‘æ“ä½œç³»ç»Ÿè¯¢é—®æŸ¥çœ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚

   1. å¦‚æžœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„æŒ‡å®šæ–‡ä»¶ã€‚

   2. å¦‚æžœè·¯å¾„åå½“ä¸­ï¼Œæœ‰ä¸å­˜åœ¨çš„æ–‡ä»¶å¤¹æ²¡æœ‰åˆ›å»ºï¼Œé‚£ä¹ˆä¸ä¼šåˆ›å»ºæ­¤æ–‡ä»¶å¤¹ï¼Œè€Œæ˜¯æŠ›å‡ºå¼‚å¸¸`FileNotFoundException`

   3. å¦‚æžœæ–‡ä»¶å­˜åœ¨ï¼ˆâ­ï¼‰ï¼š**å®žé™…ä¸Šä»ç„¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œç©ºçš„æ–‡ä»¶æ¥è¦†ç›–åŽŸæ–‡ä»¶ã€‚**æ­¤æ—¶å†™æ•°æ®å°±æ˜¯ä»Žç©ºç™½æ•°æ®å¼€å§‹å†™ã€‚

   4. æ­¤æ—¶æœ‰ä¸€ä¸ªéžå¸¸é‡è¦çš„é—®é¢˜å³**å¦‚ä½•å‘æ–‡ä»¶è¿½åŠ æ•°æ®å‘¢ï¼Ÿ**åˆ©ç”¨å¦ä¸€ä¸ªæž„é€ å™¨ï¼šå°†è¿½åŠ å¸ƒå°”å€¼è®¾ç½®ä¸º`true`

      ```java
      FileOutputStream(String name,boolean append)
      ```

2. å¦‚ä½•å‘æ–‡ä»¶ä¸­ï¼Œå†™ä¸€ä¸ª**æ¢è¡Œ **ðŸ“£

   ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼šï¼ˆä¸åŒæ“ä½œç³»ç»Ÿæ¢è¡Œç¬¦ä¸åŒï¼‰Windowsï¼š`\r\n`ï¼Œç±»Unixï¼š`\n`

   å¦‚æžœè·¨å¹³å°ä½¿ç”¨ä»£ç ï¼Œä¸ºé¿å…é”™è¯¯ï¼Œåº”ä½¿ç”¨ï¼š

   ```java
   String System.linSeparator()
   ```

##### **è¾“å‡ºæµå¤„ç†å¼‚å¸¸**

åœ¨JavaIOè¿‡ç¨‹ä¸­ï¼Œä¸¤ç§`try...catch`å¤„ç†å¼‚å¸¸ï¼Œå¹¶ä¸”å®‰å…¨é‡Šæ”¾èµ„æºçš„æ–¹å¼

è¦æ±‚ï¼š

â€‹	1. å¯ä»¥ç›´æŽ¥å¤„ç†å¼‚å¸¸ï¼Œé‚£ä¹ˆå°±`try...catch...finally`æ ¼å¼

â€‹	2. ä¸å¯ä»¥ç›´æŽ¥å¤„ç†å¼‚å¸¸ï¼Œéœ€è¦æŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆå°±ç”¨`try...finally`æ ¼å¼

**æ€»ä¹‹ä¸€å®šè¦ç”¨`finally`ä»£ç å—å®‰å…¨é‡Šæ”¾èµ„æºã€‚**

æ ¼å¼ä¸€ï¼š`try...catch...finally` æ³¨æ„`.close()`æœ¬èº«ä¹Ÿæ˜¯æœ‰å¼‚å¸¸çš„ã€‚

æ ¼å¼äºŒï¼šåŸºäºŽ`AutoCloseable`æŽ¥å£çš„è‡ªåŠ¨èµ„æºé‡Šæ”¾ï¼Œ`try- with-resources`

JavaIOä¸­çš„æ‰€æœ‰æµèµ„æºéƒ½å¯ä»¥é‡‡å–è¿™ç§æ–¹å¼æ¥è¿›è¡Œé‡Šæ”¾èµ„æºã€‚

```java
try(éœ€è¦é‡Šæ”¾èµ„æºçš„ç±»å¯¹è±¡ï¼Œè¯¥ç±»å¿…é¡»å®žçŽ°AutoCloseable){

//å¯èƒ½å‡ºçŽ°å¼‚å¸¸çš„ä»£ç 

}catch(){

}
```

è§£é‡Šï¼š

1. `try`ä¸­çš„ä»£ç å—æ‰§è¡Œå®Œï¼Œè‡ªåŠ¨è°ƒç”¨"`try()`"å½“ä¸­æµå¯¹è±¡çš„`close()`æ–¹æ³•é‡Šæ”¾èµ„æºï¼Œæ— è®º`try`ä»£ç å¦‚ä½•æ‰§è¡Œ

2. "`try(`)"è¿™ä¸ªå°æ‹¬å·å½“ä¸­ï¼Œåœ¨Java8å½“ä¸­ï¼Œå¿…é¡»åˆ›å»ºå¯¹è±¡çš„è¯­å¥ï¼Œä¸èƒ½å†™ä¸€ä¸ªå¼•ç”¨ã€‚åˆ›å»ºå®žçŽ°`AutoCloseable`ç±»çš„å¯¹è±¡çš„è¯­å¥ï¼Œå¿…é¡»å†™åœ¨å°æ‹¬å·é‡Œ

æ³¨æ„ï¼šä¸ç®¡å¼‚å¸¸æ˜¯æŠ›è¿˜æ˜¯catchï¼Œé‡è¦çš„æ˜¯æ‰§è¡Œ`close()`ã€‚å®žé™…å¼€å‘ä¸­ä¸€å®šè¦æŠŠé‡Šæ”¾èµ„æºçš„ä»£ç å†™è¿›`finally`ä»£ç å—ã€‚

#### å­—èŠ‚è¾“å…¥æµ

`java.io.FileInputStream`æ–‡ä»¶å­—èŠ‚è¾“å…¥æµ

ä½¿ç”¨æ–‡ä»¶å­—èŠ‚è¾“å…¥æµï¼Œå°±å¯ä»¥å®žçŽ°å°†æ•°æ®ä»Žå¤–å­˜ä¸­çš„æ–‡ä»¶ä¸­è¯»å–åˆ°Javaç¨‹åºä¸­ï¼ˆå†…å­˜ï¼‰

> æ­¥éª¤
>
> 1. åˆ›å»ºå¯¹è±¡
>
> 2. è°ƒç”¨readæ–¹æ³•è¯»æ•°æ®
>
> 3. å…³é—­èµ„æº

##### ï¼ˆâ­â­é‡ç‚¹â­â­ï¼‰

`read`æ–¹æ³•æœ‰è¿”å›žå€¼ï¼Œ3ä¸ªæ–¹æ³•éƒ½æ˜¯è¿”å›ž`int`ï¼Œä½†æ˜¯`int`çš„å«ä¹‰ä¸åŒ

1. ï¼ˆäº†è§£ï¼‰æ— å‚æ–¹æ³•å°±æ˜¯è¯»å–æ–‡ä»¶ä¸­*ä¸‹ä¸€ä¸ªå­—èŠ‚*çš„æ•°æ®ï¼Œè¿”å›žè¿™ä¸ªå­—èŠ‚æ•°æ®çš„*å­—èŠ‚å€¼*

   ```java
   int read()
   ```

   1. å­—èŠ‚å€¼ï¼šï¼ˆä¸ç®¡ä»€ä¹ˆæ•°æ®ï¼Œéƒ½ä¼šå¼ºåˆ¶è½¬æ¢æˆ`byte`ï¼Œåªä¼šè¯»ä¸€ä½æ•°æ®ï¼Œä½†æ˜¯æ³¨æ„å­—èŠ‚å€¼æ²¡æœ‰è´Ÿæ•°ï¼Œæ‰€ä»¥è¿”å›žå€¼å–å€¼èŒƒå›´æ˜¯$[0,255]$ï¼‰

   2. **å¦‚æžœè¯»åˆ°æœ«å°¾å°±è¿”å›ž-1**

      **é‡ç‚¹**â­åœ¨ä½¿ç”¨è¾“å…¥æµè¯»å–æ–‡ä»¶æ•°æ®æ—¶ï¼Œè¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªçœ‹ä¸è§çš„æ–‡ä»¶æŒ‡é’ˆæ¥æŒ‡ç¤ºè¯»å–çš„ä¸‹ä¸€ä¸ªå­—èŠ‚æ•°æ®ï¼Œç›´åˆ°è¯»å®Œæ•´ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶æŒ‡é’ˆå°±ä¼šåˆ°é»˜è®¤ï¼Œå†æ¬¡`read`å°±ä¼šè¿”å›ž-1ã€‚

2. å°†æ•°æ®ä»Žæ–‡ä»¶ä¸­è¯»å–è¯¥byteæ•°ç»„é•¿åº¦æ•°æ®å‡ºæ¥ï¼Œå¹¶ä¸”**å°†æ•°æ®å­˜å‚¨åœ¨bæ•°ç»„ä¸­**ã€‚ç„¶åŽè¯¥æ–¹æ³•è¿”å›žæ­¤æ¬¡è¯»åˆ°çš„å­—èŠ‚æ•°é‡ã€‚

```java
int read(byte[] b)
```

> **å¦‚ä½•æŠŠ`byte`æ•°ç»„è½¬æ¢æˆ`String`?**
>
> ç”¨`String`å¸¦`byte`æ•°ç»„å‚æ•°çš„æž„é€ å™¨
>
> ```java
> String str = new String(byte[] b)
> ```
>

3. æŽ§åˆ¶è¯»å–çš„æ•°æ®é•¿åº¦

```java
int read(byte[] b, int off, int len )
```

ä»Žè¾“å…¥æµä¸­è¯»å–lenä¸ªå­—èŠ‚æ•°æ®ï¼Œç„¶åŽä»Žä¸‹æ ‡offå¼€å§‹å­˜å…¥bæ•°ç»„ã€‚è¿”å›žå€¼æ˜¯å®žé™…è¯»å–çš„å­—èŠ‚æ•°é‡ã€‚

**æ³¨æ„äº‹é¡¹**

1. åˆ›å»ºå¯¹è±¡æ—¶å¦‚æžœæ–‡ä»¶è·¯å¾„æŒ‡å‘çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šç›´æŽ¥æŠ›å‡ºå¼‚å¸¸`FileNotFoundException`

2. (â­é‡ç‚¹)

> Stringå¦ä¸€ä¸ªå¸¦byteæ•°ç»„çš„æž„é€ å™¨
>
> ```java
> int readCount = in.read(bytes);
> String(byte[] b,int off, readCount)
> ```
