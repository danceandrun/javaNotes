å­¦ä¹ ç›®æ ‡

- Mavenæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨
- ä¼šé…ç½®Mavençš„ç¯å¢ƒï¼Œä»¥åŠåœ¨ideaä¸Šé…ç½®
- ï¼ˆé‡ç‚¹ï¼‰æŒæ¡Mavençš„å·¥ç¨‹ç»“æ„
- æŒæ¡Mavençš„å‡ ä¸ªé‡è¦æŒ‡ä»¤ã€‚ï¼ˆclean compile package installï¼‰
- æŒæ¡å¦‚ä½•å¯¼åŒ…åŠä¾èµ–å†²çªè§£å†³åŠæ³•

# Maven

## ä»‹ç»

ä»€ä¹ˆæ˜¯Mavenå‘¢ï¼ŸMavenæ˜¯ä¸€ä¸ª<span style='color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;'>**é¡¹ç›®ç®¡ç†å·¥å…·**</span>ã€‚ä¸»è¦çš„åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼š

- **é¡¹ç›®æ„å»º**

  é¡¹ç›®æ„å»ºæ˜¯æŒ‡å¯ä»¥å¸®åŠ©æˆ‘ä»¬<span style='color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;'>**ç¼–è¯‘é¡¹ç›®**</span>ã€<span style='color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;'>**æ‰“åŒ…é¡¹ç›®**</span>ï¼ˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠè‡ªå·±çš„é¡¹ç›®æ‰“åŒ…æˆä¸€ä¸ª.jaræ–‡ä»¶ï¼‰ã€å®‰è£…é¡¹ç›®ã€éƒ¨ç½²é¡¹ç›®

- **ä¾èµ–ç®¡ç†**ï¼ˆä¸‹è½½é¡¹ç›®é‡Œé¢ä¾èµ–çš„jarï¼‰

  æˆ‘ä»¬ç›®å‰æ˜¯ç”¨çš„æ˜¯ä¼ ç»Ÿçš„Javaé¡¹ç›®ï¼Œä¼ ç»Ÿçš„Javaé¡¹ç›®æ¥ç®¡ç†ä¾èµ–å…¶å®å¾ˆä¸æ–¹ä¾¿ã€‚å½“æˆ‘ä»¬çš„é¡¹ç›®å˜å¾—å¤æ‚ä¹‹åï¼Œé¡¹ç›®ä¸­çš„ä¾èµ–è¶Šæ¥è¶Šå¤šï¼Œç®¡ç†èµ·æ¥ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ï¼ŒMavenå¯ä»¥å¸®åŠ©æˆ‘ä»¬å»ç®¡ç†è¿™äº›ä¾èµ–ã€‚
  
  ä¹‹å‰æ˜¯ä¸‹è½½jarçš„æ–¹å¼ï¼Œéå¸¸éº»çƒ¦ã€‚è¿˜å®¹æ˜“å‡ºé”™ã€‚

ä¾èµ–ç®¡ç†ï¼Œ æ¯”å¦‚ä½ è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ mysql 5.1.47 çš„åŒ…ã€‚ ä¼ ç»Ÿçš„é¡¹ç›®ï¼Œéœ€è¦å»mvnrepostory ï¼Œä¸‹è½½jarã€‚æ”¾åˆ°é¡¹ç›®é‡Œé¢ï¼Œ add as libaray.

ä¸‹dbcpï¼Œéœ€è¦ä¸‹ä¸¤ä¸ªåŒ…ã€‚ å¦‚æœæœ‰ä¸€ä¸ª commons-java å¦‚æœæ²¡ä¸‹ï¼Œä¼šæŠ¥é”™ã€‚

NoClassDefFoundError     NoClassDefFoundException   åŒ…æ²¡ä¸‹ã€‚

dbcp   -->   mysql  5.1.47

c3p0    -->    mysql  8.0

mavenå¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

## å®‰è£…

### ç‰ˆæœ¬è¯´æ˜

Mavenæ˜¯apacheä¸‹é¢çš„ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨Javaå¼€å‘ï¼Œæ¢å¥è¯æ¥è¯´ï¼Œ**å…¶å®å°±æ˜¯Mavençš„è¿è¡Œä¾èµ–äºJDKç¯å¢ƒ**ã€‚

- å¦‚æœéœ€è¦ä½¿ç”¨Mavenï¼Œé‚£ä¹ˆéœ€è¦å®‰è£…<font color=red>**JDKç¯å¢ƒ**</font>å¹¶é…ç½®å¥½<font color=red>**ç¯å¢ƒå˜é‡**</font>ã€‚
- Mavenæ˜¯Javaå¼€å‘çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨Mavençš„æ—¶å€™ï¼ŒMavençš„ç‰ˆæœ¬éœ€è¦å’ŒJDKçš„ç‰ˆæœ¬å…¼å®¹
- Mavenåç»­éœ€è¦åœ¨ideaä¸­ä½¿ç”¨ï¼Œideaä¸­æœ‰mavençš„æ’ä»¶ï¼Œæ‰€ä»¥Mavençš„ç‰ˆæœ¬ä¹Ÿéœ€è¦å’Œideaçš„å…¼å®¹

JDKï¼š1.8ï¼ˆå¼ºåˆ¶çš„è¦æ±‚ã€‚ï¼‰

IDEAï¼š2018.3.6(2022 é‡åˆ°äº†é—®é¢˜ä¸€å®šè¦èƒ½è§£å†³)

Mavenï¼š3.5.3**ï¼ˆå»ºè®®3.5.3 / 3.63.ä¸€å®šä¸è¦ä½¿ç”¨ 3.9.3ï¼‰**

ä¸€å®šè¦é…ç½®å¥½ `JAVA_HOME`  è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚

### ä¸‹è½½

[å®˜ç½‘](https://maven.apache.org/download.cgi)

å¦‚æœè¦åœ¨å®˜ç½‘æ‰¾ 3.5.3çš„ç‰ˆæœ¬ï¼Œæ€ä¹ˆæ‰¾ï¼Ÿ

![image-20230512161536062](.\assets\image-20230512161536062.png)



![image-20230707095226042](.\assets\image-20230707095226042.png)

æœåŠ¡å™¨ï¼š

![image-20220517110528503](.\assets\image-20220517110528503.png)

### è§£å‹

mavenéœ€è¦è§£å‹åˆ°ä¸€ä¸ª <span style='color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;'>**ä¸å¸¦æœ‰ä¸­æ–‡ã€ä¸å¸¦æœ‰ç‰¹æ®Šå­—ç¬¦**</span>ï¼ˆç©ºæ ¼ï¼‰ çš„ç›®å½•ã€‚

![image-20220517110845732](.\assets\image-20220517110845732.png)

![image-20230109094544266](.\assets\image-20230109094544266.png)



![image-20230106150210148](.\assets\image-20230106150210148.png)

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¦‚æœmavenæŒ‡ä»¤æ‰§è¡Œæ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆè¯´æ˜mavençš„è§£å‹æ²¡æœ‰é—®é¢˜ï¼ˆç°åœ¨å°±å·²ç»å®‰è£…å¥½äº†ï¼‰

### é…ç½®ç¯å¢ƒå˜é‡

![image-20220517111619797](.\assets\image-20220517111619797.png)

é…ç½®äº†ç¯å¢ƒå˜é‡ä¹‹åï¼Œå°±å¯ä»¥åœ¨ä»»æ„çš„è·¯å¾„ä¸‹ä½¿ç”¨ `mvn -v`

![image-20230109094242379](.\assets\image-20230109094242379.png)

## é…ç½®

åœ¨ä»‹ç»Mavençš„é…ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆçœ‹ä¸€ä¸‹Mavençš„å·¥ä½œæµç¨‹ã€‚

![image-20220517113446925](.\assets\image-20220517113446925.png)



![image-20220517113525362](.\assets\image-20220517113525362.png)

![image-20230109095951792](.\assets\image-20230109095951792.png)

- æœ¬åœ°ä»“åº“ï¼šå…¶å®å°±æ˜¯æœ¬åœ°å­˜æ”¾`Jar`åŒ…çš„ä¸€ä¸ªè·¯å¾„ï¼Œç»Ÿä¸€çš„é›†ä¸­å¼çš„å»ç®¡ç†æœ¬åœ°çš„æ‰€æœ‰`jar`åŒ…
- ä¸­å¤®ä»“åº“ï¼šä¸­å¤®ä»“åº“å…¶å®å°±æ˜¯Maven æä¾›çš„ä¸€ä¸ªä»“åº“ï¼Œé‡Œé¢æ”¶å½•äº†ä¸–ç•Œä¸Šæ‰€æœ‰çš„å¼€æºçš„`jar`åŒ…ã€‚
- é•œåƒä»“åº“ï¼šé˜¿é‡Œç­‰å…¬å¸ä¼šå»å®šæœŸåŒæ­¥ä¸­å¤®ä»“åº“ï¼ŒæŠŠä¸­å¤®ä»“åº“çš„å†…å®¹åŒæ­¥è¿‡æ¥ã€‚è¿™æ ·æˆ‘ä»¬åç»­åœ¨ä¸‹è½½`jar`åŒ…çš„æ—¶å€™ï¼Œå°±å¯ä»¥è®©ä»–æŒ‡å®šå»é•œåƒä»“åº“ä¸‹è½½ï¼Œè¿™æ ·ä¸‹è½½çš„é€Ÿåº¦å°±ä¼šæ¯”è¾ƒå¿«ã€‚

### é…ç½® `settings.xml`

![image-20220517114124587](.\assets\image-20220517114124587.png)

- é…ç½®æœ¬åœ°ä»“åº“

  ```xml
  <settings>
      ...
  	<localRepository>D:\maven\repo</localRepository>
      ...
  </settings>
  ```
  
- é…ç½®é•œåƒä»“åº“

  ```xml
  <settings>
  	...
      <mirrors>
          <mirror>
          	<id>nexus-aliyun</id>
          	<mirrorOf>central</mirrorOf>
          	<name>Nexus aliyun</name>
          	<url>http://maven.aliyun.com/nexus/content/groups/public</url>
          </mirror>
      </mirrors>
      ...
  </settings>
  ```
  
- é…ç½®JDKçš„ç¼–è¯‘ç‰ˆæœ¬

  ```xml
  <settings>
  	...
      <profiles>
          <profile>
                  <id>jdk-1.8</id>
                  <activation>
                      <activeByDefault>true</activeByDefault>
                      <jdk>1.8</jdk>
                  </activation>
                  <properties>
                      <maven.compiler.source>1.8</maven.compiler.source>
                      <maven.compiler.target>1.8</maven.compiler.target>
                      <maven.compiler.compilerVersion>1.8</maven.compiler.compilerVersion>
                  </properties>
          </profile>
      </profiles>
      ...
  </settings>
  ```

### é…ç½®idea

mavenéœ€è¦åœ¨ideaä¸Šè¿›è¡Œä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åœ¨ideaä¸Šè¿›è¡Œé…ç½®ã€‚

åœ¨ideaä¸­é…ç½®ï¼Œéœ€è¦é…ç½®ä¸¤æ–¹é¢ï¼Œä¸€ä¸ªæ˜¯å½“å‰é¡¹ç›®ï¼Œä¸€ä¸ªæ˜¯æ–°é¡¹ç›®ã€‚  

#### é…ç½®å½“å‰é¡¹ç›®

`File---> Setttings----> Maven(ç›´æ¥æœç´¢)`

![image-20230109100730775](.\assets\image-20230109100730775.png)

![image-20220517142909635](.\assets\image-20220517142909635.png)

#### é…ç½®æ–°é¡¹ç›®

![image-20220517143041453](.\assets\image-20220517143041453.png)

<span style=color:red;background:yellow>**å®‰è£…Mavençš„æ­¥éª¤**</span>

1. è§£å‹ä¸‹è½½å¥½çš„mavenå®‰è£…åŒ…ã€‚éœ€è¦æ³¨æ„ï¼Œä¸è¦æœ‰ä¸­æ–‡ï¼Œä¸è¦æœ‰ç©ºæ ¼

2. é…ç½®mavençš„ç¯å¢ƒå˜é‡ã€‚   åå«åš`MAVEN_HOME ` ï¼ŒæŠŠå®ƒåŠ åˆ° `path`

3. é…ç½®`settings.xml`ã€‚ ä¸»è¦é…ç½® æœ¬åœ°ä»“åº“ï¼Œé•œåƒä»“åº“ï¼Œç¼–è¯‘æ‰“åŒ…çš„ç‰ˆæœ¬

4. é…ç½®`idea`é‡Œé¢çš„ä¸œè¥¿ã€‚   é…ç½®å½“å‰é¡¹ç›®ï¼Œé…ç½®æ–°é¡¹ç›®ã€‚

   â€‹	ä¸»è¦é…ç½®  `Maven home directory `(è§£å‹çš„mavenç›®å½•)ã€‚`User settings file`ï¼ˆé…ç½®åˆ°settings.xmlï¼‰, `Local repository`(é…ç½®åˆ°æœ¬åœ°ä»“åº“ã€‚)

## ä½¿ç”¨Maven

### mavenå·¥ç¨‹æ–‡ä»¶ç»“æ„

maven å¯¹**æ–‡ä»¶ç»„ç»‡å½¢å¼**æœ‰éå¸¸é«˜çš„è¦æ±‚ã€‚å¿…é¡»è¦æŒ‰ç…§è¿™ä¸ªç›®å½•ç»“æ„æ¥

> Mavenå·¥ç¨‹çš„è¦æ±‚ï¼š
>
> 1. **åœ¨é¡¹ç›®çš„æ ¹è·¯å¾„ä¸‹**ï¼Œæœ‰ä¸€ä¸ª`pom.xml`æ–‡ä»¶
>
> 2. å·¥ç¨‹ç›®å½•æ˜¯å¦‚ä¸‹çš„ç»“æ„
>
>    projectName
>
>    - src
>      - main
>        - java(å†™ä»£ç çš„åœ°æ–¹)
>        - resources(é…ç½®æ–‡ä»¶åœ°æ–¹)
>      - test
>        - java(å•å…ƒæµ‹è¯•ä»£ç )
>        - resources(å•å…ƒæµ‹è¯•çš„é…ç½®æ–‡ä»¶)
>    - pom.xml

![image-20230109101241908](.\assets\image-20230109101241908.png)

### æ–°å»ºä¸€ä¸ªMavenå·¥ç¨‹

#### ä»Javaé¡¹ç›®å»å»ºç«‹ä¸€ä¸ªMavenå·¥ç¨‹(å·²æœ‰é¡¹ç›®)

![image-20220517145218439](.\assets\image-20220517145218439.png)

![image-20220517145044876](.\assets\image-20220517145044876.png)

æ€ä¹ˆæŠŠä¼ ç»Ÿé¡¹ç›®æ”¹é€ æˆä¸€ä¸ªmavenå·¥ç¨‹çš„ã€‚

1. åœ¨é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªpom.xmlæ–‡ä»¶ã€‚

2. å¯¹ç€ pom.xml å³é”®  Add as Maven Project

3. æŒ‰ç…§mavençš„ç›®å½•ç»“æ„ï¼Œåˆ›å»ºç›®å½•    src/main/java  src/main/resources  src/test/java src/test/resources

4. ğŸš€ æ ‡è®°ç›®å½•çš„åŠŸèƒ½ å°†javaæ ‡è®°æˆsource root ç­‰

5. æŠŠä¹‹å‰çš„ä»£ç æŒªè¿›å»ã€‚æŒªåˆ°  src/main/java ç›®å½•é‡Œé¢ã€‚

![image-20230512170558117](.\assets\image-20230512170558117.png)

![image-20230707105823390](.\assets\image-20230707105823390.png)



#### ä½¿ç”¨ideaç›´æ¥å»å»ºç«‹Mavenå·¥ç¨‹(æ–°å»ºé¡¹ç›®)

![image-20220517150917248](.\assets\image-20220517150917248.png)

![image-20220517151036823](.\assets\image-20220517151036823.png)

![image-20230108162350084](.\assets\image-20230108162350084.png)



![image-20220517151220876](.\assets\image-20220517151220876.png)

### ç†è§£moduleä¸project

projectå’Œmoduleéƒ½æ˜¯ideaä¸­çš„æ¦‚å¿µï¼Œä¸æ˜¯Javaä¸­çš„æ¦‚å¿µã€‚

- project

  A project is a top-level organizational unit for your development work in IntelliJ IDEA. In its finished form, a project may represent a complete software solution. A project is a collection of:

  - Your work results: source code, build scripts, configuration files, documentation, artifacts, etc.
  - SDKs and libraries that you use to develop, compile, run and test your code.
  - Project settings that represent your working preferences in the context of a project.

  A project has one or more modules as its parts.

- module

  - A module is a part of a project that you can compile, run, test and debug independently.
  - Modules are a way to reduce complexity of large projects while maintaining a common (project) configuration.
  - Modules are reusable: if necessary, a module can be included in more than one project.

- project

  ä¸€ä¸ªé¡¹ç›®æ˜¯IDEAå¼€å‘å·¥ä½œçš„é¡¶çº§ç»„ç»‡å•ä½ã€‚åœ¨å…¶å®Œæˆçš„å½¢å¼ä¸­ï¼Œä¸€ä¸ªé¡¹ç›®å¯èƒ½ä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆ

  é¡¹ç›®æ˜¯ä»¥ä¸‹å†…å®¹çš„é›†åˆï¼š

  - ä½ çš„å·¥ä½œæˆæœï¼šæºä»£ç ã€è„šæœ¬ã€é…ç½®æ–‡ä»¶ã€æ–‡æ¡£ã€åŒ…ç­‰ã€‚
  - ç”¨äºå¼€å‘ã€ç¼–è¯‘ã€è¿è¡Œå’Œæµ‹è¯•ä»£ç çš„SDKå’Œåº“ã€‚
  - åœ¨é¡¹ç›®ä¸Šä¸‹æ–‡ä¸­è¡¨ç¤ºä½ çš„å·¥ä½œåå¥½è®¾ç½®

  ä¸€ä¸ªé¡¹ç›®æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¨¡å—ä½œä¸ºå…¶éƒ¨ä»¶

- module

  - æ¨¡å—æ˜¯é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œ<span style='color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;'>**ä½ å¯ä»¥ç‹¬ç«‹çš„ç¼–è¯‘ã€è¿è¡Œã€æµ‹è¯•å’Œè°ƒè¯•ã€‚**</span>
  - æ¨¡å—æ˜¯ä¸€ç§åœ¨ç»´æŠ¤å…¬å…±é¡¹ç›®é…ç½®çš„åŒæ—¶é™ä½å¤§å‹é¡¹ç›®å¤æ‚æ€§çš„æ–¹æ³•ã€‚
  - æ¨¡å—å¯ä»¥é‡å¤ä½¿ç”¨ï¼šå¦‚æœéœ€è¦ï¼Œå¯ä»¥å†å¤šä¸ªé¡¹ç›®ä¸­åŒ…å«ä¸€ä¸ªæ¨¡å—ã€‚

**æ€»ç»“ä¸€ä¸‹ï¼šProjectæ˜¯IDEAçš„æœ€é¡¶çº§çš„ç»“æ„å•å…ƒï¼Œprojectåªæ˜¯èµ·åˆ°äº†ä¸€ä¸ªé¡¹ç›®å®šä¹‰çš„åŠŸèƒ½ï¼Œç±»ä¼¼äºå·¥ä½œç©ºé—´çš„æ¦‚å¿µï¼Œè¿™ä¸ªå·¥ä½œç©ºé—´å¯ä»¥å»é…ç½®ä½ çš„IDEAçš„ä¸€äº›å…¬å…±é…ç½®ï¼Œä¾‹å¦‚SDKã€ä»£ç åº“ç­‰ã€‚moduleæ˜¯projectçš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥å•ç‹¬ç¼–è¯‘è¿è¡Œç­‰ï¼Œæ¯ä¸€ä¸ªmoduleé¡¹ç›®è¿è¡Œçš„æ—¶å€™éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„Javaè¿›ç¨‹ã€‚IDEAåˆ›å»ºé¡¹ç›®çš„æ—¶å€™ä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ªåŒåçš„moduleï¼Œå®é™…ä¸Šæˆ‘ä»¬å¼€å‘å†™ä»£ç éƒ½æ˜¯åœ¨å¼€å‘è¿™ä¸ªmoduleã€‚**

Projectæ˜¯ä¸€ä¸ªå·¥ä½œç©ºé—´ï¼Œä½ åœ¨é‡Œé¢å¯ä»¥é…ç½®ä¸€äº›å…¬å…±çš„é…ç½®

Moduleæ˜¯ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„ä¸œè¥¿ã€‚

å¦‚æœè¯´ä½ çš„moduleå’Œmoduleä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè¿™ä¸ªæ—¶å€™å»ºè®®å¤§å®¶æ–°å»ºé¡¹ç›®ã€‚

### ç®€å•ä½¿ç”¨Mavenå·¥ç¨‹

####  å¦‚ä½•å¯¼åŒ…

åªéœ€è¦åœ¨ pom.xmlæ–‡ä»¶ä¸­å£°æ˜jaråŒ…çš„åæ ‡å°±å¯ä»¥äº†ï¼Œæ·»åŠ äº†ä¹‹åç‚¹å‡» `import changes `

![image-20220517155928113](.\assets\image-20220517155928113.png)

> `<dependencies> `è¿™ä¸ªæ ‡ç­¾ä¸‹é¢å¯ä»¥æ”¾ç½®å¤šä¸ª `<dependency> `æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥å¯¼å…¥å¤šä¸ªjaråŒ…ã€‚

![image-20220517172149233](.\assets\image-20220517172149233.png)



æ³¨æ„äº‹é¡¹

![image-20230410143758066](.\assets\image-20230410143758066.png)

ç‚¹å¼€å®ƒï¼Œçœ‹ä¸€ä¸‹ä¸‹è½½åœ°å€æ˜¯å¦æ˜¯aliyunã€‚å¦‚æœæ˜¯åˆ™é•œåƒä»“åº“é…ç½®æ­£å¸¸ã€‚å¦åˆ™éœ€è¦æ£€æŸ¥ã€‚

Downloading  from   â€œmaven.orgâ€ã€‚è¯´æ˜é…ç½®æ²¡æˆåŠŸã€‚ 

è§åˆ°è¿™ä¸ª  â€œmaven.aliyun.comâ€ã€‚æ‰è¯´æ˜é…ç½®æˆåŠŸäº†ã€‚

æ€ä¹ˆæ£€æŸ¥ã€‚

1. å»idea  settingsé‡Œé¢çœ‹ä¸‹ï¼Œé…ç½®æ˜¯ä¸æ˜¯  settings.xmlã€‚

2. å»mavenç›®å½•  é‚£ä¸ªsettings.xmlé‡Œé¢ï¼Œçœ‹é•œåƒä»“åº“æ˜¯å¦é…ç½®æˆåŠŸï¼Œ  mirroræ˜¯å¦æœ‰ã€‚

æ£€æŸ¥æ˜¯å¦ä¿å­˜äº†ã€‚

## é¡¹ç›®æ„å»º

### æŒ‡ä»¤ä»‹ç»

é¡¹ç›®æ„å»ºå…¶å®å°±æ˜¯ Mavenå¯ä»¥å¸®åŠ©æˆ‘ä»¬å»**æ£€æŸ¥é¡¹ç›®ï¼Œç¼–è¯‘é¡¹ç›®ï¼Œæµ‹è¯•é¡¹ç›®ï¼Œæ‰“åŒ…é¡¹ç›®ï¼Œå®‰è£…é¡¹ç›®ï¼Œéƒ¨ç½²é¡¹ç›®**

è¿™å‡ ä¸ªæ­¥éª¤å°±æ¶‰åŠåˆ°äº†Mavenä¸­ä¸€äº›æŒ‡ä»¤ã€‚

![image-20220517171843970](.\assets\image-20220517171843970.png)

### æŒ‡ä»¤çš„æ‰§è¡Œæ–¹å¼

æ¯ä¸€ç§æŒ‡ä»¤éƒ½æœ‰ä¸‰ç§æ–¹å¼æ¥æ‰§è¡Œã€‚

**MavenæŒ‡ä»¤çš„æ‰§è¡Œä¾èµ–äºä¸€äº›jaråŒ…ã€‚**

- æ–¹å¼ä¸€ã€‚ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œ

  ![image-20220517161424797](.\assets\image-20220517161424797-1693357379413-23.png)

- æ–¹å¼äºŒï¼š é€šè¿‡ideaé‡Œé¢çš„`terminal`

  ![image-20220517161610470](.\assets\image-20220517161610470.png)

  > ä½¿ç”¨çš„æ—¶å€™å¯èƒ½ä¼šæ‰¾ä¸åˆ°mvnå‘½ä»¤
  >
  > - ç¯å¢ƒå˜é‡æ²¡é…ç½®å¥½ã€‚é‡å¯ä¸€ä¸‹ideaã€‚
  > - ideaæ²¡æœ‰æƒé™å»æ‰§è¡Œmvnå‘½ä»¤ï¼Œéœ€è¦æŠŠideaé€šè¿‡ç®¡ç†å‘˜æƒé™æ‰“å¼€

- æ–¹å¼ä¸‰

  ç›´æ¥ä½¿ç”¨mavençš„å¯è§†åŒ–æ’ä»¶

  ![image-20220517162630068](.\assets\image-20220517162630068.png)



### `compile`å‘½ä»¤è¯¦è§£

> `compile`æ˜¯ç¼–è¯‘çš„æ„æ€ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ª`target`æ–‡ä»¶å¤¹

<span style=color:red;background:yellow>**ä»¥åï¼Œåªèƒ½åœ¨javaæ–‡ä»¶å¤¹ä¸­å†™ä»£ç **</span>

<span style=color:red;background:yellow>**åœ¨resourcesæ–‡ä»¶å¤¹é‡Œé¢ï¼Œå†™é…ç½®æ–‡ä»¶**</span>

å¤§å®¶ä¸€å®šè¦çŸ¥é“ï¼Œç¼–è¯‘ä¹‹åçš„æ–‡ä»¶è·‘åˆ°å“ªé‡Œå»äº†ã€‚è¿™ä¸ªå¯¹ä»Šåçš„å·¥ä½œå…³ç³»éå¸¸å¤§ã€‚ 

![image-20220517163655476](.\assets\image-20220517163655476.png)



![image-20230109110612330](.\assets\image-20230109110612330.png)

### `package`å‘½ä»¤è¯¦è§£

`package`å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠé¡¹ç›®æ‰“åŒ…ã€‚

å¸®åŠ©æˆ‘ä»¬æŠŠé¡¹ç›®æ‰“åŒ…ï¼Œé»˜è®¤æ‰“æˆ`jar`ã€‚

> æ‰“åŒ…çš„åå­—ï¼š`artifactId-version.jar`

> æ‰“åŒ…çš„æ ¼å¼ï¼š
>
> - `jar`
>
>   é»˜è®¤çš„æ‰“åŒ…æ ¼å¼
>
> - `war`
>
>   éœ€è¦æŒ‡å®š
>
> å¦‚ä½•æŒ‡å®šå‘¢ï¼Ÿ
>
> ```xml
> <!-- æŒ‡å®šæ‰“åŒ…çš„æ ¼å¼ï¼Œé»˜è®¤ä¸ºjar ï¼Œå¯ä»¥é…ç½®ä¸º war å’Œ pom -->
> <packaging>jar</packaging>
> ```

### `install` å‘½ä»¤è¯¦è§£

æœ¬åœ°ä»“åº“ï¼Œå…¶å®æ˜¯ä¸€ä¸ªç£ç›˜è·¯å¾„ã€‚å®ƒå­˜æ”¾æˆ‘ä»¬ä»ç½‘ç»œä¸Šä¸‹è½½çš„æ‰€æœ‰`jar`åŒ…ã€‚

> installå‘½ä»¤å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠpackageç”Ÿæˆçš„jaråŒ…å¤åˆ¶åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚

å¦‚ä½•åœ¨æœ¬åœ°ä»“åº“ä¸­å¯»æ‰¾jaråŒ…å‘¢ï¼Ÿ

- è¿›å…¥æœ¬åœ°ä»“åº“ã€‚å…¶å®å°±æ˜¯åˆšåˆšé…ç½®çš„ç£ç›˜è·¯å¾„` localRepository `
- æ–‡ä»¶å¤¹æ˜¯è¿™æ ·ç»„ç»‡çš„ã€‚  é¦–å…ˆæ˜¯  groupId  ï¼Œ artifactId   , version ã€‚
  - æ¯”å¦‚mysqlçš„åŒ…ã€‚ ` groupId= mysql`     `artinfactId= mysql-connector-java`    `version=5.1.49`
  - æ¯”å¦‚druidçš„åŒ…ã€‚`groupId = com.alibaba ` ` artifactId=druid`    `version=1.2.18`



![image-20220517171252434](.\assets\image-20220517171252434.png)



![image-20230109112041008](.\assets\image-20230109112041008.png)



- clean æ˜¯å¹²å•¥çš„
  - åˆ é™¤ç”Ÿæˆçš„targetæ–‡ä»¶å¤¹ã€‚
  - ä¸‰ç§æ‰§è¡Œmvnå‘½ä»¤çš„æ–¹å¼
    - é€šè¿‡å‘½ä»¤è¡Œã€‚
    - é€šè¿‡ idea çš„terminalã€‚
    - é€šè¿‡å¯è§†åŒ–æ’ä»¶ã€‚

- compile æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ

  - ç¼–è¯‘é¡¹ç›®çš„ã€‚æ€ä¹ˆç¼–è¯‘çš„ï¼Œç¼–è¯‘çš„ç›®çš„åœ°ã€‚
  - src/main/java    -->   target/classes
  - src/main/resources   -->   target/classes
  - åœ¨src/main/javaä¸‹çš„é…ç½®æ–‡ä»¶ï¼ˆproperties.xmlï¼‰,æ–‡æœ¬æ–‡ä»¶ éƒ½ä¸ä¼šè¢«æ‰“åŒ…è¿›å…¥ `target/classes`ã€‚<span style=color:yellow;background:red>**ä»Šå src/main/javaé‡Œé¢åªèƒ½å†™ä»£ç ï¼Œå…¶ä»–ä¸œè¥¿ä¸ä¼šè¢«æ‰“åŒ…**</span>
  - **åœ¨resourcesé‡Œé¢ æˆ–è€…å…¶ä»–çš„æ–‡ä»¶å¤¹ä¸­å»ºè¿ç»­çš„æ–‡ä»¶å¤¹ï¼Œéœ€è¦æ³¨æ„ã€‚**  
    - com.cskaoyan   åªä¼šå»ºä¸€å±‚æ–‡ä»¶å¤¹ã€‚æ–‡ä»¶å¤¹åå­—å«åšï¼Œcom.cskaoyan
    - å¦‚æœæˆ‘ä»¬æƒ³å»ºå¤šå±‚ã€‚ éœ€è¦è¿™æ ·å†™`com/cskaoyan`ã€‚ æˆ–è€…åˆ†ç€å»º


  - package: æ‰“åŒ…ã€‚å°†æˆ‘ä»¬é¡¹ç›®å†™å¥½çš„ä»£ç ï¼Œæ‰“æˆä¸€ä¸ªjarã€‚ä¾›åˆ«äººä½¿ç”¨
    - æ‰“åŒ…åçš„åå­—ã€‚`artifactId-version.jar`
  - install: å°†æ‰“åŒ…å¥½çš„jarã€‚copyåˆ°æœ¬åœ°ä»“åº“ã€‚
    - æ€ä¹ˆæ ¹æ®åæ ‡ã€‚åœ¨æœ¬åœ°ä»“åº“æ‰¾åˆ°å¯¹åº”çš„jarã€‚  é¦–å…ˆè¿›å…¥æœ¬åœ°ä»“åº“ï¼Œæ‰¾groupIdå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œæ‰¾artifactIdå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œæœ€åæ‰¾versionå¯¹åº”çš„æ–‡ä»¶å¤¹

## ä¾èµ–ç®¡ç†

mavenå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†ä¾èµ–ã€‚ä¾èµ–å…¶å®å°±æ˜¯jarçš„ä¸‹è½½ã€‚

### å¦‚ä½•å¯¼åŒ…

- å»mavenç½‘ç«™ä¸Šæ‰¾åˆ°å¯¹åº”çš„åŒ…çš„åæ ‡

  https://mvnrepository.com/

- æŠŠå¯¹åº”çš„åæ ‡å¤åˆ¶åˆ° pom.xml æ–‡ä»¶ä¸­

  ![image-20220517172122530](.\assets\image-20220517172122530.png)

- ç‚¹å‡» `import changes`

  ![image-20220517172149233](.\assets\image-20220517172149233-1693358036762-32.png)

å¦‚æœæ˜¯idea2022çš„ç‰ˆæœ¬ï¼Œæœ‰å¯èƒ½ä¸å›å¼¹çª—ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¤šç‚¹åˆ·æ–°ã€‚

![image-20230707150202081](.\assets\image-20230707150202081.png)



ä¸‹ä¾èµ–çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œè¯¥å¦‚ä½•å»è§£å†³

1. ä¸‹è½½ä¾èµ–çš„æ—¶å€™ï¼Œå¾ˆæ…¢ã€‚ç‚¹å¼€è¿›åº¦æ¡ï¼Œå‘ç° æ˜¯ä»mavenä¸­å¤®ä»“åº“ã€‚ï¼ˆåªè¦urlæ²¡æœ‰aliyunï¼‰

2. è§£å†³åŠæ³•ï¼šæ£€æŸ¥Mavençš„é…ç½®ã€‚ç‚¹å¼€settings--> Maven 

â€‹			çœ‹`Maven home path` å’Œ `User Settings file `æ˜¯å¦æ˜¯è‡ªå·±å®‰è£…çš„mavenã€‚

â€‹			å¦‚æœå®ƒä¿©çš„åœ°å€é…ç½®çš„ æ˜¯æ­£ç¡®çš„ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå»æ£€æŸ¥  `settings.xml`é‡Œé¢ï¼Œåˆ°åº•æ˜¯å¦åŠ äº†`mirror`ã€‚

### `scope` ä½œç”¨åŸŸ

æ¯ä¸€ä¸ªä¾èµ–åŒ…éƒ½æœ‰è‡ªå·±çš„ä½œç”¨èŒƒå›´ã€‚**å°±æ˜¯æ ‡è¯†è¿™ä¸ª`jar`åœ¨ä»€ä¹ˆæ—¶å€™èƒ½ç”¨**

![image-20220517172734997](.\assets\image-20220517172734997.png)

- `test`

  ä»…ä»…åœ¨æµ‹è¯•åŒ…ï¼ˆ`src/test/java`ï¼‰è·¯å¾„ä¸‹æœ‰æ•ˆï¼Œåœ¨ `src/main/java`è·¯å¾„ä¸‹**å¤±æ•ˆ**ã€‚å¤±æ•ˆçš„è¡¨ç°ï¼š**ç›´æ¥çœ‹ä¸åˆ°ç±»**ã€‚ä¸€èˆ¬ä¸€äº›æµ‹è¯•åŒ…ä¼šç”¨åˆ°ã€‚åé¢å†™æµ‹è¯•ç±»ï¼Œåœ¨`src/test/java`ä¸‹é¢å†™ã€‚

- `provided`

  åœ¨ç¼–è¯‘çš„æ—¶å€™ç”Ÿæ•ˆï¼Œåœ¨è¿è¡Œçš„æ—¶å€™å¤±æ•ˆã€‚åœ¨ä»€ä¹ˆæ—¶å€™æœ‰ç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬æ‰“å®Œ`jar`ï¼Œä¸åœ¨æœ¬åœ°è¿è¡Œï¼Œæˆ‘ä»¬æ”¾åˆ°ä¸€ä¸ªå›ºå®šçš„åœ°æ–¹å»è¿è¡Œï¼Œè¿™ä¸ªå›ºå®šçš„åœ°æ–¹æœ‰è¿™äº›`jar`ã€‚ç”¨æ¥ç¼©å°`jar`åŒ…å¤§å°ã€‚

  ![image-20220517173807347](.\assets\image-20220517173807347.png)

  > å¯¹äºä¸Šé¢å›¾ä¸­çš„ä¸¤ä¸ª`jar`åŒ…ï¼Œå‡å¦‚åœ¨è¿è¡Œçš„æ—¶å€™æ˜¯è¿è¡Œåœ¨å®¹å™¨ä¸­çš„ï¼Œé‚£ä¹ˆè¿è¡Œçš„æ—¶å€™éœ€è¦ä½¿ç”¨å®¹å™¨ä¸­æä¾›çš„`jar`åŒ…ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¯ä»¥è®©åŸé¡¹ç›®ä¸­çš„`jar`åŒ…å¤±æ•ˆã€‚ä¹Ÿå°±æ˜¯ç¼–è¯‘çš„æ—¶å€™ç”Ÿæ•ˆï¼Œä½†æ˜¯è¿è¡Œçš„æ—¶å€™å¤±æ•ˆã€‚
  >
  > æ‰“åŒ…ä¸€ä¸ª`jar`ã€‚ä¹‹åæŠŠ`jar`æ”¾åˆ°æœåŠ¡å™¨è¿è¡Œï¼ŒæœåŠ¡å™¨æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸“é—¨æ”¾`jar`ã€‚ç›¸å½“äºè¿™ä¸ª`jar`åœ¨æœåŠ¡å™¨ä¸Šæœ‰ã€‚
  
- `runtime`

  åœ¨ç¼–è¯‘çš„æ—¶å€™å¤±æ•ˆï¼Œåœ¨è¿è¡Œçš„æ—¶å€™ç”Ÿæ•ˆã€‚ç¼–è¯‘çš„æ—¶å€™ï¼Œçœ‹ä¸åˆ°`MySQL`è¿™ä¸ªé©±åŠ¨åŒ…å†™çš„ç±»ï¼Œç”¨çš„æ—¶å€™å¯ä»¥ç”¨ã€‚æ–¹ä¾¿è§£è€¦ï¼Œåˆ°æ—¶å€™**åˆ‡æ•°æ®åº“**çš„æ—¶å€™ã€‚ä¸ä¼šæœ‰`MySQL`çš„ç±»ï¼Œè¿™æ—¶å€™ï¼Œéå¸¸å¥½åˆ‡ã€‚

  > å…¸å‹çš„å°±æ˜¯ğŸš€ **æ•°æ®åº“çš„é©±åŠ¨åŒ…ã€‚**

- `compile`

  <span style='color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;'>**é»˜è®¤çš„ä½œç”¨åŸŸ**</span>ï¼Œå¯ä»¥çœç•¥ã€‚99%çš„jaråŒ…éƒ½æ˜¯è¿™ä¸ªä½œç”¨åŸŸï¼Œè¡¨ç¤ºä¸ç®¡æ˜¯åœ¨`src/main/java `è¿˜æ˜¯åœ¨ `src/test/java `è·¯å¾„ä¸‹ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™å’Œè¿è¡Œçš„æ—¶å€™éƒ½æœ‰æ•ˆã€‚

### ä¾èµ–ä¼ é€’

æŒ‡ä¾èµ–å…·æœ‰ä¼ é€’æ€§ã€‚

![image-20230410153937125](.\assets\image-20230410153937125.png)

> æ ¹æ®ä¾èµ–çš„ä¼ é€’æ€§ï¼Œå‡å¦‚é¡¹ç›®Aä¸­å¼•å…¥äº†Bã€Cä¸¤ä¸ªä¾èµ–ï¼ŒBçš„ä¾èµ–ä¸­åˆæœ‰Dä¾èµ–ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±ç›¸å½“äºAçš„ä¾èµ–ä¸­æœ‰Dè¿™ä¸ªä¾èµ–ã€‚
>
> æ³¨æ„ï¼šæ˜¯åœ¨ `compile` è¿™ä¸ªä½œç”¨åŸŸä¸‹

ä¾‹å¦‚ï¼Œæˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ï¼Œä¾èµ–äº†c3p0ã€‚c3p0ä¾èµ–äº†åˆ«çš„ã€‚æ‰€ä»¥æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä¼šä¸€èµ·ä¾èµ–å®ƒã€‚

![image-20230410153816868](.\assets\image-20230410153816868.png)

å¦‚ä½•çœ‹é¡¹ç›®çš„ä¾èµ–ã€‚é¡¹ç›®é‡Œé¢ç”Ÿæ•ˆçš„`jar`ã€‚

![image-20230410151456627](.\assets\image-20230410151456627.png)

å¦‚æœçœ‹ä¾èµ–çš„ä¼ é€’ï¼Ÿè¿™ä¸ªåªæ˜¯ä»£è¡¨ä¾èµ–çš„ä¼ é€’ï¼Œå¹¶ä¸ä»£è¡¨çœŸå®ä¼šåœ¨é¡¹ç›®ä¸­å¼•å…¥è¿™ä¸ªä¾èµ–ã€‚

![image-20230410151608821](.\assets\image-20230410151608821.png)

### ä¾èµ–å†²çª

> ä»€ä¹ˆæ˜¯ä¾èµ–å†²çªå‘¢ï¼Ÿ
>
> <span style='color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;'>**å½“åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œå¯¼å…¥åŒä¸€ä¸ªä¾èµ–çš„ä¸åŒçš„ç‰ˆæœ¬ï¼Œå°±ä¼šæœ‰å†²çªçš„é—®é¢˜ã€‚**</span>
>
> ![image-20230410153727221](.\assets\image-20230410153727221.png)

### å¦‚ä½•è§£å†³ä¾èµ–å†²çª

#### å£°æ˜ä¼˜å…ˆåŸåˆ™

æ˜¯æŒ‡è¿™åŒä¸€ä¸ªé¡¹ç›®çš„ä¸åŒçš„ç‰ˆæœ¬çš„`jar`åŒ…ï¼Œè°å…ˆåœ¨`pom.xml`ä¸­å£°æ˜ï¼Œä»¥è°ä¸ºå‡†ã€‚

> <span style=color:red;background:yellow>**ä»…ä»…æŒ‡çš„æ˜¯ç¬¬äºŒçº§åŠåé¢çš„ä¾èµ–ã€‚**</span>

`spring-context`å’Œ `spring-jdbc` éƒ½ä¾èµ–äº† `spring-beans`è¿™ä¸ªä¾èµ–

spring-context 5.3.6  ä¾èµ–    spring-beans   5.3.6

![image-20230410153703878](.\assets\image-20230410153703878.png)

<span style=color:red;background:yellow>**å¯¹äºä¸€çº§ä¾èµ–**</span>

å¦‚æœåœ¨`pom.xml`é‡Œï¼ŒåŒæ—¶ä¾èµ–äº†ä¸¤ä¸ªç‰ˆæœ¬ã€‚æ˜¯ä»¥æœ€åä¸€ä¸ªæŒ‡å®šçš„ä¸ºå‡†ã€‚

```xml
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-jdbc</artifactId>
    <version>5.3.6</version>
</dependency>

<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-jdbc</artifactId>
    <version>5.3.4</version>
</dependency>
```



![image-20230410153631930](.\assets\image-20230410153631930.png)

#### å°±è¿‘åŸåˆ™

å°±è¿‘åŸåˆ™çš„ä¼˜å…ˆçº§é«˜äº å£°æ˜ä¼˜å…ˆåŸåˆ™ã€‚

å°±è¿‘åŸåˆ™æ˜¯æŒ‡ï¼Œåœ¨è¿›è¡Œä¾èµ–ä¼ é€’çš„æ—¶å€™ï¼Œ**è°ä¼ é€’çš„æ¬¡æ•°æ¯”è¾ƒå°‘**ï¼Œä»¥è°ä¸ºå‡†ã€‚

![image-20230410153534900](.\assets\image-20230410153534900.png)

åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ä¸ä¼šç”¨ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™æ”¹ä¾èµ–è¦æ³¨æ„ã€‚

åƒä¸‡ä¸è¦è§‰å¾—æ”¹ä¾èµ–æ˜¯ä¸€ä¸ªç®€å•é—®é¢˜ã€‚

#### æ‰‹åŠ¨æ’é™¤

æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å»æ’é™¤ä¼ é€’è¿‡æ¥çš„ä¾èµ–ã€‚

![image-20220518174506262](.\assets\image-20220518174506262.png)

```xml
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-jdbc</artifactId>
    <version>5.3.4</version>

	<!-- æ‰‹åŠ¨æ’é™¤ -->
    <exclusions>
        <exclusion>
            <groupId>org.springframework</groupId>
            <artifactId>spring-beans</artifactId>
        </exclusion>

        <exclusion>
            <groupId>org.springframework</groupId>
            <artifactId>spring-core</artifactId>
        </exclusion>
    </exclusions>
    
</dependency>
```

å¯ä»¥åˆ©ç”¨ ideaæ¥è¿›è¡Œæ‰‹åŠ¨æ’é™¤

![image-20220518174451259](.\assets\image-20220518174451259.png)

### æå–å¸¸é‡ ğŸ·ï¸

è¿™ä¸ªæ˜¯ä¸€ä¸ªé¿å…ä¾èµ–å†²çªçš„æ–¹æ³•ã€‚æ˜¯åé¢å·¥ä½œä¸­ä¸»è¦æ¨èçš„åšæ³•ã€‚

1. å ä½ç¬¦å½¢å¦‚ï¼š`${spring.version}`
2. åœ¨`<properties>`æ ‡ç­¾é‡Œæ³¨æ˜å ä½ç¬¦å†…å®¹ï¼š`<spring.version>5.3.3</spring.version>`

> åŸç†ï¼š`${}`æœ¬è´¨æ˜¯å­—ç¬¦ä¸²æ›¿æ¢

```xml
<properties>
<!--
  1. æå–äº†å¸¸é‡ä¹‹åï¼Œå¯ä»¥é¿å…ä¾èµ–å†²çªçš„é—®é¢˜
  2. æå–äº†å¸¸é‡ä¹‹åï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬åæœŸç®¡ç†è¿™äº›ä¾èµ–ï¼ˆæŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ›´æ¢ç‰ˆæœ¬ï¼‰
-->
    <spring.version>5.3.3</spring.version>
    <mysql.version>5.1.47</mysql.version>
    <druid.version>1.2.6</druid.version>

</properties>


<dependencies>



    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-jdbc</artifactId>
        <version>${spring.version}</version>
    </dependency>


    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context</artifactId>
        <version>${spring.version}</version>
    </dependency>


    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-beans</artifactId>
        <version>${spring.version}</version>
    </dependency>


    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>${mysql.version}</version>
    </dependency>


    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>druid</artifactId>
        <version>${druid.version}</version>
    </dependency>
</dependencies>
```

> æ€»ç»“ï¼šåœ¨åç»­çš„å·¥ä½œä¸­ï¼Œè§£å†³ä¾èµ–å†²çªçš„é—®é¢˜ä¸»è¦æ˜¯é€šè¿‡ **æå–å¸¸é‡** è¿™ç§æ–¹å¼æ¥è§„é¿ä¾èµ–å†²çªçš„é—®é¢˜ï¼Œå¦‚æœè§„é¿äº†ä¹‹åè¿˜æœ‰ä¾èµ–å†²çªçš„é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡æ‰‹åŠ¨æ’é™¤æ¥è§£å†³ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä¸ä½¿ç”¨å£°æ˜ä¼˜å…ˆåŸåˆ™å’Œå°±è¿‘åŸåˆ™æ¥è§£å†³ä¾èµ–å†²çªçš„é—®é¢˜ã€‚

## ä½¿ç”¨mavenå¼€å‘é¡¹ç›®

æ–‡ä»¶åŠ è½½ä½¿ç”¨**ç±»åŠ è½½å™¨**æ¥æ‹¿ã€‚

æ‹¿æ–‡ä»¶çš„è·¯å¾„é—®é¢˜ï¼š

1. `properties`æ‹¿æ–‡ä»¶æ˜¯æŠŠæ–‡ä»¶æ”¾åœ¨**ç›¸å¯¹æ ¹ç›®å½•**çš„åœ°æ–¹ï¼Œå†™ç›¸å¯¹æ ¹ç›®å½•çš„è·¯å¾„
2. ç±»åŠ è½½å™¨ä¼šç›´æ¥æ‰¾åˆ°`target/classes`æ–‡ä»¶å¤¹

```java
Properties properties = new Properties();
//            FileInputStream fileInputStream = new FileInputStream("src/main/resources/druid.properties");
//            properties.load(fileInputStream);


            ClassLoader classLoader = DruidDemo.class.getClassLoader();

//            URL url = classLoader.getResource("druid.properties");
//            String path = url.getPath();
//            FileInputStream fileInputStream = new FileInputStream(path);
//            properties.load(fileInputStream);

            //file:/E:/cskaoyan/40workspace/code/maven-datasource/target/classes/druid.properties
            // path  /E:/cskaoyan/40workspace/code/maven-datasource/target/classes/druid.properties

//            System.out.println(url);
//            System.out.println("path:" + path);
			
// ä½¿ç”¨APP ClassLoaderç±»åŠ è½½å™¨æ¥æ‰¾ ç¼–è¯‘ä¹‹åçš„é…ç½®æ–‡ä»¶ 

            InputStream resourceAsStream = classLoader.getResourceAsStream("druid.properties");
            properties.load(resourceAsStream);

            dataSource = DruidDataSourceFactory.createDataSource(properties);
```

> æ³¨æ„ï¼š
>
> 1. å¯¼åŒ…çš„æ–¹å¼å˜äº†
> 2. é…ç½®æ–‡ä»¶çš„åŠ è½½æ–¹å¼å˜äº†ï¼ˆ<span style=color:yellow;background:red>**ä¸æ¨èä½¿ç”¨ç»å¯¹è·¯å¾„**</span>ï¼‰

## å¸¸è§é—®é¢˜

### ä¾èµ–ä¸‹è½½ä¸ä¸‹æ¥çš„é—®é¢˜

å‡å¦‚ç½‘ç»œä¸å¥½çš„æƒ…å†µä¸‹ï¼Œæœ‰çš„æ—¶å€™ä¾èµ–å¯èƒ½ä¸‹è½½ä¸ä¸‹æ¥ã€‚

![image-20220518174407736](.\assets\image-20220518174407736.png)

åœ¨æœ¬åœ°ä»“åº“ä¸­ï¼Œæ²¡æœ‰ä¸‹è½½ä¸‹æ¥çš„ä¾èµ–å°±ä¼šæ˜¯è¿™ç§ `.lastUpdated `æ–‡ä»¶ç±»å‹ã€‚

é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æœ‰ä¸¤ä¸ªåŠæ³•ï¼š

- æŠŠæœ¬åœ°ä»“åº“ä¸­æ²¡æœ‰ä¸‹è½½ä¸‹æ¥çš„`jar`åŒ…åˆ æ‰ï¼ˆå¸¦ç‰ˆæœ¬çš„æ–‡ä»¶å¤¹ï¼‰, åˆ æ‰äº†ä¹‹åç‚¹å‡»` reimport` é‡æ–°ä¸‹è½½

- ![image-20220518174420837](.\assets\image-20220518174420837.png)å‡å¦‚ä¸€ç›´ä¸‹è½½ä¸ä¸‹æ¥ï¼Œå¯ä»¥ç›´æ¥æŠŠåŒäº‹ï¼ˆåŒå­¦çš„ä¾èµ–å¤åˆ¶åˆ°æœ¬åœ°ä»“åº“ä¸­)

  > å¤åˆ¶çš„æ—¶å€™ç›´æ¥å¤åˆ¶å¸¦ç‰ˆæœ¬çš„æ–‡ä»¶å¤¹


# Junit

Junitæ˜¯ä¸€ä¸ªè¢«å¹¿æ³›ä½¿ç”¨çš„æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿è¡Œæˆ‘ä»¬æŒ‡å®šçš„æ–¹æ³•ã€‚

æˆ‘ä»¬ä¸€èˆ¬ç”¨å®ƒæ¥è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚å•å…ƒæµ‹è¯•ï¼Œå°±æ˜¯æ¯”å¦‚ä½ è¦æµ‹è¯•ä¸€ä¸ªæ–¹æ³•ã€‚

æ‰¾æœ€å¤§å€¼ï¼Œæ‰¾æœ€å°å€¼çš„æ–¹æ³•ã€‚

ä¹‹å‰ä½¿ç”¨æ—¶éƒ½æ˜¯å½“ä½œä¸»æ–¹æ³•ä½¿ç”¨ï¼Œåç»­ä½¿ç”¨çœ‹ä¸‹æ–‡ã€‚

## å¦‚ä½•ä½¿ç”¨

- å¯¼åŒ…

  ```xml
  <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.12</version>
      <scope>test</scope>
  </dependency>
  ```

- é…ç½®

  ä¸éœ€è¦é…ç½®

- ä½¿ç”¨

  - `@Test`

  - `@After`

    ä¿®é¥°çš„æ–¹æ³•ä¼šåœ¨æµ‹è¯•æ–¹æ³•è¿è¡Œä¹‹åæ‰§è¡Œ

  - `@Before`

    ä¿®é¥°çš„æ–¹æ³•ä¼šåœ¨æµ‹è¯•æ–¹æ³•è¿è¡Œä¹‹å‰æ‰§è¡Œ

  - `@BeforeClass`

    ä¿®é¥°çš„æ–¹æ³•åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚åœ¨å•å…ƒæµ‹è¯•çš„æœ€å‰é¢æ‰§è¡Œ

  - `@AfterClass`
  
  > ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹ï¼š
  >
  > 1. `@BeforeClass`å’Œ`@AfterClass` ä¿®é¥°çš„æ–¹æ³•å¿…é¡»æ˜¯é™æ€çš„
  > 2. `@Test` æ³¨è§£ä¿®é¥°çš„æ–¹æ³•å¿…é¡»æ˜¯ publicã€å¿…é¡»æ˜¯voidã€å¿…é¡»æ²¡æœ‰å‚æ•°
  > 3. æµ‹è¯•ç±»å¿…é¡»åœ¨ src/test/java è·¯å¾„ä¸‹
  > 4. æµ‹è¯•ç±»çš„å‘½åå¿…é¡»å«åš `XxxTest`
  > 5. æµ‹è¯•æ–¹æ³•ï¼ˆ`@Test`æ³¨è§£ä¿®é¥°çš„æ–¹æ³•ï¼‰çš„å‘½åå¿…é¡»å«åš` testXxx`();
  
  è¿™äº›æ³¨è§£çš„ä½œç”¨ï¼Ÿ
  
  âš¡ åˆå§‹åŒ–æµ‹è¯•æ•°æ®ã€‚
  
  > mavenä¼šå¸®åŠ©æˆ‘ä»¬è¿è¡Œ src/test/javaè·¯å¾„ä¸‹çš„æ‰€æœ‰çš„æµ‹è¯•ç±»ä¸­çš„æµ‹è¯•æ–¹æ³•

## ä¸€äº›æ³¨æ„äº‹é¡¹

1. **çˆ¶å­å·¥ç¨‹**ï¼šä¸€ä¸ªmoduleé‡Œæ–°å»ºä¸€ä¸ªmoduleã€‚åœ¨æœ€å¤–é¢çš„moduleä¸‹ï¼Œå¦‚æœæœ‰pom.xmlé…ç½®äº†æŸä¸ªä¾èµ–ï¼Œå­moduleä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚

   > çˆ¶å­å·¥ç¨‹å¦‚ä½•æ‰“å¼€ï¼Œ
   >
   > IDEAä¸­ä½¿ç”¨openï¼Œæ‰¾åˆ°çˆ¶å·¥ç¨‹çš„pom.xmlé€‰æ‹©æ‰“å¼€ã€‚æ³¨æ„ä¸è¦openrecent

2. `<dependencyManagent>`æ ‡ç­¾åªç›¸å½“äºå£°æ˜äº†ç‰ˆæœ¬ï¼Œä½¿ç”¨æ—¶è¿˜æ˜¯éœ€è¦åœ¨`<dependency>`é‡ŒåŠ å…¥åæ ‡.

3. ä¾èµ–ä¸‹è½½å¤±è´¥ï¼Œæœ¬åœ°ä»“åº“åˆ é™¤æ­£åœ¨ä¸‹è½½çš„æ–‡ä»¶ï¼Œåˆ·æ–°é‡æ–°ä¸‹è½½ã€‚IDEAæ¸…é™¤ç¼“å­˜fileâ†’invalidateé€‰é¡¹ã€‚

## å¸¸è§é—®é¢˜

åœ¨æ—¥å¸¸å¼€å‘å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œç»å¸¸æ‹‰å–å¼€æºä»£ç ï¼Œä½†æ˜¯æœ¬åœ°æ„å»ºæ€»æ˜¯ä¼šé‡åˆ°å„ç§é—®é¢˜ï¼Œè¿™é‡Œè®°å½•ä¸€äº›å¸¸è§çš„é—®é¢˜è§£å†³æ–¹å¼ã€‚

å¼€å‘ç¯å¢ƒï¼š

- IDEA2024.1
- JDK 23/21/17/11å¸¸ç”¨çš„æ˜¯è¿™å‡ ä¸ª
- maven 3.8.1

[è§£å†³99%çš„IDEAä¸­MavenæŠ¥é”™é—®é¢˜-ç™¾åº¦å¼€å‘è€…ä¸­å¿ƒ](https://developer.baidu.com/article/details/2779417)
