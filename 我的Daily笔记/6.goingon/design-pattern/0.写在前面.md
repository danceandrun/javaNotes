> 这里记录的是学习专栏时的感悟
>
> [设计模式之美-极客时间](https://time.geekbang.org/column/article/160991)

一句话：想要提高设计复杂系统的能力，学习设计模式是第一步。

之前读过《大话设计模式》，也零零散散看过一些设计模式的wiki，看过设计模式的分享专栏，但是一直没有很好的应用起来，也不知道自身的设计水平如何。可是在日常开发过程中，确实遇到了一些需要设计系统的场景：

- 做geoguesser游戏的时候，意识到很重要的能力是怎么将游戏规则转换为可以用系统支持的规则，看到游戏规则的时候我并不能很清晰的将项目结构搭出来。
- goodo在新的业务领域，最近的钢铁项目中，比如日钢冷轧排程项目，最初沿用的是经典的流程作业排程系统结构WorkOrder-PieceStep-Assignment，但是后面为了解决工单绑定钢卷信息引入了WorkOrderBindingCoil，为了解决分卷功能下发产出明细引入了PieceStepDetail，为了解决反馈数据过大的问题引入了ShiftReportData，为了解决排程PieceStep问题引入算法类SteelCoilScheduler专门写和排程算法相关的内容。在不断的接触业务的过程中，代码几经更改，结构也几经调整，如果最开始设计的系统就可以很好的支持业务变化，想来可以省去很多工作。
- 日常工作时总是会想：
  - 如何分层、分模块？应该怎么划分类？
  - 每个类应该具有哪些属性、方法？怎么设计类之间的交互？
  - 该用继承还是组合？
  - 该使用接口还是抽象类？
  - 怎样做到解耦、高内聚低耦合？
  - 该用单例模式还是静态方法？
  - 用工厂模式创建对象还是直接 new 出来？
  - 如何避免引入设计模式提高扩展性的同时带来的降低可读性问题？

我意识到想要解决面对的问题，只靠设计模式的学习是不够的，但是设计模式可以解决比较基础的问题，理清最开始的思考方向，后续对数据存储优化的考虑还需要学习数据库，中间件等相关知识，对不同系统的思考还要学习业界常见系统的设计思路（可以看看九章的课）。

## 一些问题

### 面向对象，设计原则，设计模式，编程规范，重构之间的关系

再好的理论，应用不到实际中也是白费。所以对于提升代码质量，最有效的是编码规范，其次是设计原则，再次是代码重构，最后才是面向对象和设计模式。 整个排序是按照我理解的难易程度来进行的。一般一个项目都是多人开发，多人并行开发中，考虑到团队中技术水平不一，保持代码质量最好的方式就是先制定编码规范，大家最容易达成一致并遵守。其次是设计原则，因为它相对来讲更明确，违反设计原则基本等于硬伤，更容易得到认同。代码重构是需要长期去做的，甚至不是在开发过程中而是在维护过程中去做的，所以排在第三位。后面两项更多的要考虑实际情况，不同水平的人甚至相同水平的人都会有自己不同的理解，比较难以达成统一，项目排期足够还好，一旦排期不足，很可能在当时没那个成本去谈论这些。

总的知识点

![image-20250605132157966](.\assets\image-20250605132157966.png)