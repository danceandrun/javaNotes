> æ—¶é—´å®‰æ’
>
> 3ä¸ªå‰åç«¯ä»£ç 
>
> 2/26å·æ™šä¸ŠæŠŠç¬¬ä¸€ä¸ªå†™å®Œ
>
> 3/1å®Œæˆä¸‰ä¸ªå¼€å‘
>
> åç«¯è¦å†™æµ‹è¯•
>
> 3/2å†™test å‡†å¤‡æ¼”ç¤º

# UserStoryåŠŸèƒ½è®¾è®¡

### å‰åç«¯äº¤äº’

å‰ç«¯å‘èµ·JSONè¯·æ±‚

```json
{
    "username": "xxx",
    "password": "xxx"
}
```

åç«¯æ¥æ”¶è¯·æ±‚ï¼Œç»™äºˆç›¸åº”

```json
{
    "code": ,
    "message": "",
    "data": <T>
}
Int String Object
Map<>
var m = new Map<String, Object>();
m.put("id", );
mp
//æ³›å‹ æŠŠç±»å‹å½“ä½œå˜é‡

<T>
```



- æˆåŠŸ

  ```json
  {
      "code": 201,
      "message": "add user",
      "data": {
          "id": 0001,
          "username": "xxx",
          "password": "xxx",
          "creation_date": 2025/2/24,
          "status": "ONLINE",
          "birthday": 2000/07/27
      }
  }
  ```

- å¤±è´¥

  ```json
  
  {
      "code": 409,
      "message": "Error: add User failed because username already exists",
      "data": null
  }
  ```
  
  

### å‰ç«¯è®¾è®¡

1. å‘é€è¯·æ±‚
2. å¤„ç†å“åº”
   1. å½“codeä¸º201æ—¶æˆåŠŸè·³è½¬ï¼Œå–dataæ•°æ®ä¸ºuserå¯¹è±¡
   2. å½“codeä¸º409æ—¶ç»™äºˆæç¤ºæŠ¥é”™ï¼Œå¼¹çª—å†…å®¹æ˜¯message

### åç«¯è®¾è®¡

1. ç»Ÿä¸€å“åº”æŠ¥æ–‡æ ¼å¼

   1. å°è£…å“åº”ä¸ºResultç±»ï¼Œè¯¥ç±»ç”¨æ¥åç«¯å“åº”æŠ¥æ–‡JSONçš„æ ¼å¼
   2. æˆåŠŸçš„æ—¶codeç»™201

2. ä½¿ç”¨Lombokç®€åŒ–å†™æ³•

   1. å› ä¸ºä»£ç ä¸­ç»å¸¸å‡ºç°éœ€è¦æ„é€ å‡½æ•° getter setteræ–¹æ³•çš„åœ°æ–¹ ä¸æƒ³æ‰‹åŠ¨æ·»åŠ æ‰€æœ‰æ–¹æ³• é€šè¿‡å·¥å…·çš„æ–¹å¼ç®€åŒ–åç«¯å†™æ³•

   2. å¼•å…¥Lombokä¾èµ–

      > ### åœ¨`build.gradle`ä¸­æ·»åŠ Lombokä¾èµ–
      >
      > æ‰“å¼€é¡¹ç›®çš„`build.gradle`æ–‡ä»¶ï¼Œå¹¶åœ¨`dependencies`å—ä¸­æ·»åŠ Lombokçš„ä¾èµ–ã€‚
      >
      > ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š
      >
      > ```groovy
      >plugins {
      >  id 'java'
      > }
      >    
      > repositories {
      >  mavenCentral()  // ç¡®ä¿ä½¿ç”¨Maven Centralä»“åº“
      > }
      >    
      > dependencies {
      >  // æ·»åŠ Lombokä¾èµ–
      >  compileOnly 'org.projectlombok:lombok:1.18.28'  // ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
      >     annotationProcessor 'org.projectlombok:lombok:1.18.28'
      >     testCompileOnly 'org.projectlombok:lombok:1.18.28'
      >     testAnnotationProcessor 'org.projectlombok:lombok:1.18.28'
      >    }
      >    ```
      > 
      
   3. ç®€åŒ–ç›¸å…³å†™æ³•
   
      > - **`@Data`**
      >   - **åŠŸèƒ½**ï¼šç»„åˆæ³¨è§£ï¼ŒåŒ…å«`@Getter`ã€`@Setter`ã€`@ToString`ã€`@EqualsAndHashCode`å’Œ`@RequiredArgsConstructor`ã€‚**
      >   - **ä½¿ç”¨åœºæ™¯**ï¼šé€‚ç”¨äºéœ€è¦å¿«é€Ÿç”Ÿæˆå¸¸ç”¨æ–¹æ³•çš„POJOç±»ã€‚
      >
      > - **`@NoArgsConstructor`ã€`@AllArgsConstructor` å’Œ `@RequiredArgsConstructor`**
      >   - **åŠŸèƒ½**ï¼šè‡ªåŠ¨ç”Ÿæˆæ„é€ å‡½æ•°ã€‚
      >   - `@NoArgsConstructor`ï¼šç”Ÿæˆæ— å‚æ„é€ å‡½æ•°ã€‚
      >   - `@AllArgsConstructor`ï¼šç”ŸæˆåŒ…å«æ‰€æœ‰å­—æ®µçš„å…¨å‚æ„é€ å‡½æ•°ã€‚

â€‹		

## ç™»å½•åŠŸèƒ½

â€‹	è·¯ç”±ï¼š`/login`

è¯·æ±‚æŠ¥æ–‡

```json
{
    "username": "",
    "password": "",
    "name": ""
}
```

åç«¯å¤„ç†æ»¡è¶³çš„éœ€æ±‚ï¼š

1. åŒºåˆ†æˆåŠŸå’Œå¤±è´¥
2. æˆåŠŸä¹‹åè¦å¹²å˜› 
   1. å½“å‰ç”¨æˆ·çŠ¶æ€ç”± ä¸åœ¨çº¿ -ã€‹ åœ¨çº¿
   2. è¿”å›æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯åˆ—è¡¨ å‰ç«¯éœ€è¦è¿™ä¸ªæ•°æ®

æˆåŠŸçš„å“åº”æŠ¥æ–‡

```json
{
    "code": 201,
    "message": ""
    "data":[]
}
```

 å¤±è´¥çš„æŠ¥æ–‡

1. å¤±è´¥ç”¨409æ¥å‘Šè¯‰å‰ç«¯
2. å‰ç«¯å¼¹å‡ºæ³¨å†Œé¡µé¢ æç¤ºç”¨æˆ·æ³¨å†Œï¼ˆåç»­éœ€è¦æ³¨å†Œçš„`/register`ï¼‰

```json
{
    "code": 409,
    "message": "",
    "data":null
}
```

# S1 

## ä»»åŠ¡éœ€æ±‚

**Story:** As an unregistered user, I want to be able to register as a user with my chosen credentials

(i.e., username and password that are both not empty words) to leverage/use services and

information that are exclusively available to registered users.

**Acceptance Criteria:**

*â€¢* Upon successful user registration, the *users overview* screen (see below) is shown, and the

user is automatically logged in.

*â€¢* Upon failure, an error is displayed, and the user is redirected (back) to the register screen.A register error can be that a user name is already taken.

*â€¢* The creation date of a user is saved to the database record.

*â€¢* Logged-in users can log out and log back into their registered profile.

**Priority:** critical

**Author:** SoPra Assistants

**Estimate:** 4h

> éœ€æ±‚åˆ†æï¼šå®ç°æ³¨å†ŒåŠŸèƒ½

## å‰ç«¯

å‰ç«¯ä¸šåŠ¡é€»è¾‘

### æ³¨å†Œ`/register`

1. ç”¨æˆ·é€šè¿‡è¡¨å•(`Form`)è¾“å…¥ä¿¡æ¯

2. æ ¡éªŒå¯†ç æ˜¯å¦ç›¸åŒï¼ˆç¡®è®¤ä¸¤æ¬¡è¾“å…¥çš„å¯†ç æ˜¯å¦ä¸€è‡´ï¼Œä¸ä¸€è‡´æç¤ºï¼‰

3. å‘åç«¯å‘é€è¯·æ±‚ï¼Œè¯·æ±‚ä½“åŒ…å«ï¼šç”¨æˆ·å å§“å å¯†ç 

   1. ```jsx
                  const response = await apiService.post<{ code: number, message: string, data: User }>(
                      "/register",
                      {username: values.username, name: values.name, password: values.password}
                  );
      ```

      

   2. è¯·æ±‚ä½“æ ¼å¼

      ```json
      {
          "username": "",
          "name": "",
          "password": ""
      }
      ```

      

4. æ‹¿åˆ°åç«¯ç»“æœï¼Œè§£æå“åº”

   1. å“åº”ä½“æ ¼å¼

      1. ```json
         {
             "code": 200,
             "message": "",
             "data": null
         }
         ```

         

   2. æ ¹æ®**å‰åç«¯çº¦å®šå¥½çš„å“åº”æŠ¥æ–‡`code`**åˆ¤æ–­æ˜¯å¦æˆåŠŸ

   3. æˆåŠŸæç¤ºæ³¨å†ŒæˆåŠŸï¼Œå¼¹å‡ºç™»å½•é¡µé¢

   4. å¤±è´¥æç¤ºç”¨æˆ·å¤±è´¥çš„åŸå› 

### ç™»å½•`/login`

1. ç”¨æˆ·é€šè¿‡è¡¨å•è¾“å…¥å¿…è¦çš„ç™»å½•ä¿¡æ¯

   1. ç”¨æˆ·åå’Œå¯†ç 

2. å‘é€è¯·æ±‚ï¼Œè¯·æ±‚ä½“

   ```json
   {
       "username": "",
       "password": ""
   }
   ```

3. æ‹¿åˆ°åç«¯ç»“æœï¼Œè§£ææ˜¯å¦ç™»å½•æˆåŠŸ

   1. æˆåŠŸ
      1. ä¿å­˜å¿…è¦çš„ä¿¡æ¯token userId
      2. è·³è½¬åˆ°user overviewç•Œé¢
   2. å¤±è´¥
      1. æœªæ³¨å†Œæ—¶æç¤ºæœªæ³¨å†Œ è·³è½¬è‡³resgister
      2. å¯†ç é”™è¯¯ç»™äºˆæç¤º

## åç«¯

### æ³¨å†Œ`/register`

1. æ¥æ”¶è¯·æ±‚ä½“
   1. ä½¿ç”¨`MapStruct`å·¥å…·åšå‚æ•°è½¬æ¢
      1. è½¬æ¢åŸç† ğŸ¥ ï¼ˆå¯èƒ½ä¼šé—®ï¼‰
2. æ‰§è¡Œæ³¨å†Œä¸šåŠ¡ğŸš€ 
   1. åˆ¤æ–­ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
      1. æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾æ•°æ®åº“ 
      2. æŸ¥æ‰¾æ•°æ®åº“ ä½¿ç”¨JPA ğŸ¥ ï¼ˆå¯èƒ½ä¼šé—®ï¼‰
   2. ä¸å­˜åœ¨å°±æ³¨å†Œï¼ŒæŠŠä¿¡æ¯å­˜å‚¨è¿›æ•°æ®åº“
      1. è¦è®¾ç½®åˆ›å»ºæ—¥æœŸ`creationDate`
      2. è¦è®¾ç½®ç™»å½•çŠ¶æ€`status`
      3. è¦è®¾ç½®tokenï¼ˆHTTPçŸ¥è¯†ï¼Œç”¨æ¥å»ºç«‹è¿æ¥ï¼‰
   3. å­˜åœ¨å°±æç¤ºå­˜åœ¨
   4. å°è£…å“åº”ä½“
3. è¿”å›æ³¨å†Œçš„ç»“æœ

### ç™»å½•`/login`

1. æ¥æ”¶è¯·æ±‚ä½“
2. æ‰§è¡Œç™»å½•ä¸šåŠ¡
   1. æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨
      1. å­˜åœ¨æ—¶éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®
         1. å¯†ç ä¸æ­£ç¡®è¿”å›å¯†ç é”™è¯¯
         2. å¯†ç æ­£ç¡®ç™»å½•æˆåŠŸ è®¾ç½®ç™»å½•çŠ¶æ€ å“åº”ä½“é‡ŒåŒ…å«token
      2. ä¸å­˜åœ¨æ—¶è¿”å›ç”¨æˆ·åä¸å­˜åœ¨
3. è¿”å›å“åº”ä½“

# S2

## ä»»åŠ¡éœ€æ±‚

**ID: S2** 

Category: User Management

**Story:** As a logged-in user, I want to inspect a registered userâ€™s profile by selecting the username

in a list of all registered users.

**Acceptance Criteria:**

*â€¢* A user can view a list of all registered users (*users overview*) and select each one for inspec

tion.

*â€¢* By clicking on a username in the users overview, you are redirected to a *profile page* of the

selected user.

*â€¢* The profile page contains the following data belonging to the selected user: username, on

line status, creation date, and birth date.

*â€¢* The users overview and the profile page are only accessible for logged-in users.

*â€¢* The birth date is optional and can only be set on the profile page.

**Priority:** critical

**Author:** SoPra Assistants

## å‰ç«¯`/users`&`/users{userId}`

### æ‰€æœ‰ç”¨æˆ·é¡µé¢ users overview

1. æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
   1. `get`è¯·æ±‚æ²¡æœ‰è¯·æ±‚ä½“
2. åˆ›å»ºç”¨æˆ·è¡¨æ ¼
   1. ä½¿ç”¨cardç»„ä»¶å±•ç¤º
   2. ä½¿ç”¨tableç»„ä»¶åˆ›å»ºè¡¨æ ¼

### ä¸ªäººç”¨æˆ·é¡µé¢

## åç«¯`/users`&`/users{userId}`

### æ‰€æœ‰ç”¨æˆ·é¡µé¢ users overview

1. GETè¯·æ±‚
2. ç›´æ¥æŸ¥Userè¡¨ï¼Œè¿”å›æ‰€æœ‰çš„æ•°æ®

### ä¸ªäººç”¨æˆ·é¡µé¢

1. ç”¨æˆ·IdæŸ¥è¯¢ä¹‹åè¿”å›ä¸€æ¡æ•°æ®

# S3

### ä»»åŠ¡éœ€æ±‚

**ID: S3** 

Category: User Management

**Story:** As a logged-in user, I want to edit my own user profile to set/update my personal

information.

**Acceptance Criteria:**

*â€¢* By clicking on an edit button in the user-profile view, you are able to change the userâ€™s

username and birthday (**attention:** make sure to use a separate ID in the database for each

user, so that references to a user are not lost after a username change).

*â€¢* A registered user can only change their own profile and not profiles of other users.

*â€¢* After changing and saving the data, the user is redirected to the profile page and the

new/changed data is displayed.

**Priority:** critical

**Author:** SoPra Assistants

### å‰ç«¯

### æ›´æ–°ä¸ªäººä¿¡æ¯`/users/{id}`

1. æ”¶é›†ç”¨æˆ·æ•°æ®ï¼Œä½¿ç”¨`Form`è¡¨å•

2. å‘åç«¯å‘é€è¯·æ±‚

   ```json
   {
       "username":"",
       "birthday":"2000-07-27"
   }
   ```

   

### åç«¯

1. æ¥æ”¶è¯·æ±‚ä½“ï¼Œè½¬æ¢å‚æ•°
2. å¤„ç†æ›´æ–°
   1. æ ¹æ®idæŸ¥æ‰¾åˆ°ç”¨æˆ·
   2. æŸ¥è¯¢å‚æ•°æ˜¯å¦å­˜åœ¨
      1. å­˜åœ¨æ—¶æ›´æ–°
      2. æ›´æ–°ä¿¡æ¯ä¸å¿…è¦å…¨éƒ¨éƒ½æ›´ åªæ›´ç”¨æˆ·ä¼ å€¼çš„æ•°æ®
3. å°è£…å“åº”ä½“



# æµ‹è¯•





# å¤‡æ³¨

å‰ç«¯æä¾›ç¼–è¾‘åŠŸèƒ½ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

1. **ç¼–è¾‘æ¨¡å¼åˆ‡æ¢**ï¼šé€šè¿‡ä¸€ä¸ªæŒ‰é’®åˆ‡æ¢æŸ¥çœ‹æ¨¡å¼å’Œç¼–è¾‘æ¨¡å¼ã€‚
2. **è¡¨å•è¾“å…¥**ï¼šåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œæ˜¾ç¤ºè¡¨å•ä»¥å…è®¸ç”¨æˆ·ä¿®æ”¹ `username` å’Œ `birthday`ã€‚
3. **ä¿å­˜æ›´æ–°**ï¼šè°ƒç”¨åç«¯çš„ `PUT /users/{userId}` æ¥å£ï¼Œæ›´æ–°ç”¨æˆ·ä¿¡æ¯ã€‚
4. **æƒé™æ§åˆ¶**ï¼šç¡®ä¿ç”¨æˆ·åªèƒ½ç¼–è¾‘è‡ªå·±çš„ä¿¡æ¯ã€‚
5. **é‡å®šå‘å’Œåˆ·æ–°**ï¼šæ›´æ–°æˆåŠŸåï¼Œé‡å®šå‘åˆ°ç”¨æˆ·è¯¦æƒ…é¡µé¢å¹¶æ˜¾ç¤ºæ›´æ–°åçš„æ•°æ®ã€‚

æ›´æ”¹ç‚¹ï¼š

1. **æ·»åŠ ç¼–è¾‘æ¨¡å¼å’Œè¡¨å•**ï¼š
   - æ·»åŠ ä¸€ä¸ª `isEditing` çŠ¶æ€ï¼Œç”¨äºåˆ‡æ¢æŸ¥çœ‹æ¨¡å¼å’Œç¼–è¾‘æ¨¡å¼ã€‚
   - ä½¿ç”¨ `Form` ç»„ä»¶æ˜¾ç¤ºå¯ç¼–è¾‘çš„è¡¨å•ã€‚
2. **å¤„ç†ç¼–è¾‘å’Œä¿å­˜é€»è¾‘**ï¼š
   - æ·»åŠ  `handleEdit` å‡½æ•°ï¼Œç”¨äºè¿›å…¥ç¼–è¾‘æ¨¡å¼å¹¶å¡«å……è¡¨å•æ•°æ®ã€‚
   - æ·»åŠ  `handleSave` å‡½æ•°ï¼Œç”¨äºè°ƒç”¨åç«¯ API æ›´æ–°ç”¨æˆ·ä¿¡æ¯ã€‚
3. **æƒé™æ§åˆ¶**ï¼š
   - æ£€æŸ¥å½“å‰ç™»å½•ç”¨æˆ·çš„ ID æ˜¯å¦ä¸é¡µé¢ä¸­çš„ç”¨æˆ· ID ä¸€è‡´ï¼Œç¡®ä¿ç”¨æˆ·åªèƒ½ç¼–è¾‘è‡ªå·±çš„ä¿¡æ¯ã€‚
4. **æ—¥æœŸæ ¼å¼åŒ–**ï¼š
   - ä½¿ç”¨ `dayjs` åº“å¤„ç†æ—¥æœŸæ ¼å¼ã€‚

# ä¼˜åŒ–
